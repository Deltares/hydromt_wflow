<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Build a Wflow model from scratch &mdash; hydromt_wflow  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Build a Wflow sediment model" href="build_sediment.html" />
    <link rel="prev" title="Examples" href="../index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> hydromt_wflow
          </a>
              <div class="version">
                0.1.4.dev
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Examples</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Build Wflow model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#hydroMT-CLI-build-interface">hydroMT CLI build interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setup-wflow-model-base-layers">setup wflow model base layers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Model-setup-configuration">Model setup configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Data-for-model-setup">Data for model setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Setup-complete-wflow-model">Setup complete wflow model</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Visualize-and/or-inspect-model-schematization">Visualize and/or inspect model schematization</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="build_sediment.html">Build Wflow sediment model</a></li>
<li class="toctree-l2"><a class="reference internal" href="update_model_landuse.html">Update Wflow model: landuse</a></li>
<li class="toctree-l2"><a class="reference internal" href="update_model_forcing.html">Update Wflow model: forcing</a></li>
<li class="toctree-l2"><a class="reference internal" href="update_model_gauges.html">Update Wflow model: gauges</a></li>
<li class="toctree-l2"><a class="reference internal" href="clip_model.html">Clip Wflow model</a></li>
<li class="toctree-l2"><a class="reference internal" href="convert_staticmaps_to_mapstack.html">Convert wflow staticmaps netcdf to raster files</a></li>
<li class="toctree-l2"><a class="reference internal" href="plot_wflow_staticmaps.html">Plot Wflow static maps</a></li>
<li class="toctree-l2"><a class="reference internal" href="plot_wflow_forcing.html">Plot Wflow forcing data</a></li>
<li class="toctree-l2"><a class="reference internal" href="plot_wflow_results.html">Plot Wflow results data</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../user_guide/wflow.html">Wflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user_guide/sediment.html">Wflow Sediment</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">References &amp; Help</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/api.html">API reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">What’s new</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">hydromt_wflow</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">Examples</a> &raquo;</li>
      <li>Build a Wflow model from scratch</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/examples/examples/build_model.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt .copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="Build-a-Wflow-model-from-scratch">
<h1>Build a Wflow model from scratch<a class="headerlink" href="#Build-a-Wflow-model-from-scratch" title="Permalink to this headline"></a></h1>
<p>This notebook demonstrates how to prepare <strong>Wflow</strong> model from scratch using the command line interace (CLI).</p>
<p>All lines in this notebook which start with <code class="docutils literal notranslate"><span class="pre">!</span></code> are executed from the command line. Within the notebook environment the logging messages are shown after completion. You can also copy these lines and paste these in your shell to get more direct feedback.</p>
<section id="hydroMT-CLI-build-interface">
<h2>hydroMT CLI build interface<a class="headerlink" href="#hydroMT-CLI-build-interface" title="Permalink to this headline"></a></h2>
<p>Lets first check if the Wflow model is recognized by hydromt</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># this should return &quot;wflow, wflow_seciment&quot;</span>
<span class="o">!</span>hydromt --models
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
hydroMT model plugins: wflow (v0.1.4.dev0), wflow_sediment (v0.1.4.dev0)

</pre></div></div>
</div>
<p>Using the <strong>hydromt build</strong> API we can setup a complete model from scratch. Let’s get an overview of all the available options:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>hydromt build --help
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Usage: hydromt build [OPTIONS] MODEL MODEL_ROOT REGION

  Build models from source data.

  Example usage:
  --------------

  To build a wflow model for a subbasin using and point coordinates snapped to cells with stream order &gt;= 4
  hydromt build wflow /path/to/model_root &#34;{&#39;subbasin&#39;: [-7.24, 62.09], &#39;strord&#39;: 4}&#34; -i /path/to/wflow_config.ini

  To build a wflow model based on basin ID
  hydromt build wflow /path/to/model_root &#34;{&#39;basin&#39;: 230001006}&#34;

  To build a sfincs model based on a bbox (for Texel)
  hydromt build sfincs /path/to/model_root &#34;{&#39;bbox&#39;: [4.6891,52.9750,4.9576,53.1994]}&#34;

Options:
  -r, --res FLOAT             Model resolution in model src.
  --build-base / --build-all  Deprecated!
  --opt TEXT                  Component specific keyword arguments, see the
                              setup_&lt;component&gt; method of the specific model
                              for more information about the arguments.
  -i, --config PATH           Path to hydroMT configuration file, for the
                              model specific implementation.
  -d, --data PATH             File path to yml data sources file. See
                              documentation for required yml file format.
  --dd, --deltares-data       Parse default deltares data yml from
                              https://github.com/DirkEilander/hydromt-
                              artifacts/releases
  -q, --quiet                 Decrease verbosity.
  -v, --verbose               Increase verbosity.
  --help                      Show this message and exit.

</pre></div></div>
</div>
</section>
<section id="setup-wflow-model-base-layers">
<h2>setup wflow model base layers<a class="headerlink" href="#setup-wflow-model-base-layers" title="Permalink to this headline"></a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># NOTE: copy this line (without !) to your shell for more direct feedback</span>
<span class="o">!</span>hydromt build wflow <span class="s2">&quot;./wflow_test_base&quot;</span> <span class="s2">&quot;{&#39;subbasin&#39;: [12.2051, 45.8331], &#39;strord&#39;: 4, &#39;bounds&#39;: [11.70, 45.35, 12.95, 46.70]}&quot;</span> -r <span class="m">0</span>.00833 -v
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
2022-02-15 16:11:37,714 - build - log - INFO - HydroMT version: 0.4.5.dev
2022-02-15 16:11:37,714 - build - main - INFO - Building instance of wflow model at /home/runner/work/hydromt_wflow/hydromt_wflow/docs/examples/examples/wflow_test_base.
2022-02-15 16:11:37,714 - build - main - INFO - User settings:
2022-02-15 16:11:37,720 - build - model_api - INFO - Initializing wflow model from hydromt_wflow (v0.1.4.dev0).
2022-02-15 16:11:37,720 - build - model_api - INFO - setup_basemaps.region: {&#39;subbasin&#39;: [12.2051, 45.8331], &#39;strord&#39;: 4, &#39;bounds&#39;: [11.7, 45.35, 12.95, 46.7]}
2022-02-15 16:11:37,720 - build - model_api - INFO - setup_basemaps.res: 0.00833
2022-02-15 16:11:37,720 - build - model_api - INFO - setup_basemaps.hydrography_fn: merit_hydro
2022-02-15 16:11:37,720 - build - model_api - INFO - setup_basemaps.basin_index_fn: merit_hydro_index
2022-02-15 16:11:37,721 - build - model_api - INFO - setup_basemaps.upscale_method: ihu
2022-02-15 16:11:37,721 - build - wflow - INFO - Preparing base hydrography basemaps.
2022-02-15 16:11:37,965 - build - data_adapter - INFO - Downloading file to /home/runner/.hydromt_data/data/v0.0.6/data.tar.gz
2022-02-15 16:11:39,136 - build - data_adapter - INFO - Adding sample data v0.0.6 from artifacts
2022-02-15 16:11:39,195 - build - data_adapter - INFO - DataCatalog: Getting merit_hydro RasterDataset raster data from /home/runner/.hydromt_data/data/v0.0.6/merit_hydro/{variable}.tif
2022-02-15 16:11:42,983 - build - basin_mask - INFO - subbasin bbox: [11.7750, 45.8042, 12.7450, 46.6900]
2022-02-15 16:11:43,403 - build - basemaps - INFO - Upscale flow direction data: 10x, ihu method.
2022-02-15 16:11:57,984 - build - wflow - INFO - Write model data to /home/runner/work/hydromt_wflow/hydromt_wflow/docs/examples/examples/wflow_test_base
2022-02-15 16:11:57,987 - build - model_api - INFO - Writing model config to /home/runner/work/hydromt_wflow/hydromt_wflow/docs/examples/examples/wflow_test_base/wflow_sbm.toml
2022-02-15 16:11:57,988 - build - wflow - INFO - Write staticmaps to /home/runner/work/hydromt_wflow/hydromt_wflow/docs/examples/examples/wflow_test_base/staticmaps.nc
2022-02-15 16:11:58,185 - build - wflow - INFO - Writing model staticgeom to file.

</pre></div></div>
</div>
<p>The example above means the following: run <strong>hydromt build</strong> with:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">wflow</span></code> : i.e. build a wflow model</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">./wflow_test_base</span></code> : output model folder</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;{'subbasin':</span> <span class="pre">[12.2051,</span> <span class="pre">45.8331],</span> <span class="pre">'strord':</span> <span class="pre">4,</span> <span class="pre">'bounds':</span> <span class="pre">[11.70,</span> <span class="pre">45.35,</span> <span class="pre">12.95,</span> <span class="pre">46.70]}&quot;</span></code> : derive a subbasin with its outlet at the given x,y coordinates and within the given bounds [xmin, ymin, xmax, ymax] (WGS84) snapped to a river with minimum stream order (strord) of 4. All <em>REGION</em> options are described in the <a class="reference external" href="https://deltares.github.io/hydromt/latest/user_guide/cli.html#region-options">docs</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-r</span> <span class="pre">0.0083333</span></code> : build the model at a 30 arc sec (~1km) resolution</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-vv</span></code> : give some extra verbosity (2 * v) to display feedback on screen. Now debug messages are provided.</p></li>
</ul>
<p>NOTE: As we did not specify a model configuration, only the base maps (topography and hydrography) have been setup using default parameters. To build a complete model we need the use a configuraton ini-file.</p>
</section>
<section id="Model-setup-configuration">
<h2>Model setup configuration<a class="headerlink" href="#Model-setup-configuration" title="Permalink to this headline"></a></h2>
<p>The ini-file contains the model setup configuration and determines which components are build and in which order and optionally sets non-default arguments for each component. This configuration is passed to hydromt using <code class="docutils literal notranslate"><span class="pre">-i</span> <span class="pre">&lt;path_to_ini_file&gt;</span></code>. We have prepared several example ini-files which are available in the model repository <a class="reference external" href="https://github.com/Deltares/hydromt_wflow/tree/main/examples">examples folder</a> and from the
<a class="reference external" href="https://deltares.github.io/hydromt_wflow/latest/user_guide/wflow/build_configuration.html">docs(build_configuration)</a>.</p>
<p>Each header as shown between <code class="docutils literal notranslate"><span class="pre">[...]</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">[setup_basemaps]</span></code>) corresponds to a model component. All model components are explained in the <a class="reference external" href="https://deltares.github.io/hydromt_wflow/latest/user_guide/wflow/components.html">docs(model_components)</a>.</p>
<p>We will load the default wflow build ini file for inspection:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fn_ini</span> <span class="o">=</span> <span class="s2">&quot;wflow_build.ini&quot;</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">fn_ini</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">txt</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[global]
data_libs       = []            # add optional paths to data yml files

[setup_config]                  # options parsed to wflow ini file &lt;section&gt;.&lt;option&gt;
starttime = 2010-01-01T00:00:00
endtime = 2010-03-31T00:00:00
timestepsecs = 86400
input.path_forcing = inmaps-era5-2010.nc

[setup_basemaps]
hydrography_fn     = merit_hydro   # source hydrography data {merit_hydro, merit_hydro_1k}
basin_index_fn  = merit_hydro_index # source of basin index corresponding to hydrography_fn
upscale_method  = ihu           # upscaling method for flow direction data, by default &#39;ihu&#39;

[setup_rivers]
hydrography_fn   = merit_hydro      # source hydrography data, should correspond to hydrography_fn in setup_basemaps
river_geom_fn    = rivers_lin2019_v1 # river source data with river width and bankfull discharge
river_upa        = 30               # minimum upstream area threshold for the river map [km2]
rivdph_method    = powlaw           # method to estimate depth {&#39;powlaw&#39;, &#39;manning&#39;, &#39;gvf&#39;}
min_rivdph       = 1                # minimum river depth [m]
min_rivwth       = 30               # minimum river width [m]
slope_len        = 2000             # length over which tp calculate river slope [m]
smooth_len       = 5000             # length over which to smooth river depth and river width [m]

# [setup_hydrodem]                  # uncomment for river and/or land local-inertial routing.
# elevtn_map      = dem_subgrid     # {&#39;dem_subgrid&#39;, &#39;wflow_dem&#39;}
# river_routing   = local-inertial  # {&#39;kinematic-wave&#39;, &#39;local-inertial&#39;}
# land_routing    = kinematic-wave  # {&#39;kinematic-wave&#39;, &#39;local-inertial&#39;}

[setup_reservoirs]
reservoirs_fn   = hydro_reservoirs  # source for reservoirs based on GRAND: {hydro_reservoirs}; None to skip
min_area        = 1.0           # minimum lake area to consider [km2]
priority_jrc    = True          # if True then JRC data from hydroengine is used to calculate some reservoir attributes instead of the GRanD and HydroLAKES db.

[setup_lakes]
lakes_fn        = hydro_lakes   # source for lakes based on hydroLAKES: {hydro_lakes}; None to skip
min_area        = 10.0          # minimum reservoir area to consider [km2]

[setup_glaciers]
glaciers_fn     = rgi           # source for glaciers based on Randolph Glacier Inventory {rgi}; None to skip
min_area        = 1.0           # minimum glacier area to consider [km2]

[setup_lulcmaps]
lulc_fn         = globcover     # source for lulc maps: {globcover, vito, corine}

[setup_laimaps]
lai_fn          = modis_lai     # source for LAI: {modis_lai}

[setup_soilmaps]
soil_fn         = soilgrids     # source for soilmaps: {soilgrids}
ptf_ksatver     = brakensiek    # pedotransfer function to calculate hydraulic conductivity: {brakensiek, cosby}

[setup_gauges]
gauges_fn       = grdc          # if not None add gaugemap. Either a path or known gauges_fn: {grdc}
snap_to_river   = True          # if True snaps gauges from source to river
derive_subcatch = False         # if True derive subcatch map based on gauges.

[setup_precip_forcing]
precip_fn       = era5          # source for precipitation.
precip_clim_fn  = None          # source for high resolution climatology to correct precipitation.

[setup_temp_pet_forcing]
temp_pet_fn     = era5          # source for temperature and potential evapotranspiration.
press_correction= True          # if True temperature is corrected with elevation lapse rate.
temp_correction = True          # if True pressure is corrected with elevation lapse rate.
dem_forcing_fn  = era5_orography # source of elevation grid corresponding to temp_pet_fn. Used for lapse rate correction.
pet_method      = debruin       # method to compute PET: {debruin, makkink}
skip_pet        = False         # if True, only temperature is prepared.

[setup_constant_pars]
KsatHorFrac=100
Cfmax = 3.75653
cf_soil = 0.038
EoverR = 0.11
InfiltCapPath = 5
InfiltCapSoil = 600
MaxLeakage = 0
rootdistpar = -500
TT = 0
TTI = 2
TTM = 0
WHC = 0.1
G_Cfmax = 5.3
G_SIfrac = 0.002
G_TT = 1.3
</pre></div></div>
</div>
</section>
<section id="Data-for-model-setup">
<h2>Data for model setup<a class="headerlink" href="#Data-for-model-setup" title="Permalink to this headline"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">&lt;...&gt;_fn</span></code> arguments correspond to a data source from the <code class="docutils literal notranslate"><span class="pre">DataCatalog</span></code> which is based on a yml-file with references to the data paths/urls and how the data should be read. This file can be provided to hydromt using <code class="docutils literal notranslate"><span class="pre">-d</span> <span class="pre">&lt;path_to_yml_file&gt;</span></code>.</p>
<p>By default some example data for the Piave basin will be downloaded to <code class="docutils literal notranslate"><span class="pre">~/.hydromt_data/</span></code> which is also used for this example. An overview of the available example data is provided <a class="reference external" href="https://deltares.github.io/hydromt/latest/user_guide/data.html#available-global-datasets">here</a> This example data is a based on the data which available from the Deltares p-drive. If you have acces to this drive, a pre-configured catalog file can be loaded using the <code class="docutils literal notranslate"><span class="pre">--dd</span></code> flag.</p>
<p>More background how to write a data catalog yml file can be found in the <a class="reference external" href="https://deltares.github.io/hydromt/latest/user_guide/data.html">hydromt core docs</a></p>
</section>
<section id="Setup-complete-wflow-model">
<h2>Setup complete wflow model<a class="headerlink" href="#Setup-complete-wflow-model" title="Permalink to this headline"></a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># NOTE: copy this line (without !) to your shell for more direct feedback</span>
<span class="o">!</span>hydromt build wflow <span class="s2">&quot;./wflow_test_full&quot;</span> <span class="s2">&quot;{&#39;subbasin&#39;: [12.2051, 45.8331], &#39;strord&#39;: 4, &#39;bounds&#39;: [11.70, 45.35, 12.95, 46.70]}&quot;</span> -r <span class="m">0</span>.00833 -i wflow_build.ini -vv
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
2022-02-15 16:12:02,003 - build - log - DEBUG - Writing log messages to new file /home/runner/work/hydromt_wflow/hydromt_wflow/docs/examples/examples/wflow_test_full/hydromt.log.
2022-02-15 16:12:02,003 - build - log - INFO - HydroMT version: 0.4.5.dev
2022-02-15 16:12:02,003 - build - main - INFO - Building instance of wflow model at /home/runner/work/hydromt_wflow/hydromt_wflow/docs/examples/examples/wflow_test_full.
2022-02-15 16:12:02,003 - build - main - INFO - User settings:
2022-02-15 16:12:02,012 - build - model_plugins - DEBUG - Loaded model plugin &#39;wflow = hydromt_wflow.wflow.WflowModel&#39; (0.1.4.dev0)
2022-02-15 16:12:02,013 - build - model_api - INFO - Initializing wflow model from hydromt_wflow (v0.1.4.dev0).
2022-02-15 16:12:02,013 - build - model_api - DEBUG - Setting model config options.
2022-02-15 16:12:02,015 - build - model_api - DEBUG - Default config read from /usr/share/miniconda/envs/hydromt-wflow/lib/python3.9/site-packages/hydromt_wflow/data/wflow/wflow_sbm.toml
2022-02-15 16:12:02,015 - build - model_api - INFO - setup_basemaps.region: {&#39;subbasin&#39;: [12.2051, 45.8331], &#39;strord&#39;: 4, &#39;bounds&#39;: [11.7, 45.35, 12.95, 46.7]}
2022-02-15 16:12:02,016 - build - model_api - INFO - setup_basemaps.res: 0.00833
2022-02-15 16:12:02,016 - build - model_api - INFO - setup_basemaps.hydrography_fn: merit_hydro
2022-02-15 16:12:02,016 - build - model_api - INFO - setup_basemaps.basin_index_fn: merit_hydro_index
2022-02-15 16:12:02,016 - build - model_api - INFO - setup_basemaps.upscale_method: ihu
2022-02-15 16:12:02,016 - build - wflow - INFO - Preparing base hydrography basemaps.
2022-02-15 16:12:02,016 - build - data_adapter - INFO - Adding sample data v0.0.6 from artifacts
2022-02-15 16:12:02,082 - build - data_adapter - INFO - DataCatalog: Getting merit_hydro RasterDataset raster data from /home/runner/.hydromt_data/data/v0.0.6/merit_hydro/{variable}.tif
2022-02-15 16:12:02,164 - build - basin_mask - DEBUG - Parsed region (kind=subbasin): {&#39;strord&#39;: 4, &#39;bounds&#39;: [11.7, 45.35, 12.95, 46.7], &#39;xy&#39;: [12.2051, 45.8331]}
2022-02-15 16:12:06,034 - build - basin_mask - INFO - subbasin bbox: [11.7750, 45.8042, 12.7450, 46.6900]
2022-02-15 16:12:06,106 - build - wflow - DEBUG - Adding basins vector to staticgeoms.
2022-02-15 16:12:06,106 - build - basemaps - DEBUG - Mask in dataset assumed to represent subbasins.
2022-02-15 16:12:06,108 - build - basemaps - DEBUG - (Sub)basin at original resolution has 664756 cells.
2022-02-15 16:12:06,348 - build - basemaps - DEBUG - Burn subbasin outlet in upstream area data.
2022-02-15 16:12:06,452 - build - basemaps - INFO - Upscale flow direction data: 10x, ihu method.
2022-02-15 16:12:20,847 - build - basemaps - DEBUG - Derive stream order.
2022-02-15 16:12:21,075 - build - basemaps - DEBUG - Map shape: (106, 116); active cells: 6637.
2022-02-15 16:12:21,076 - build - basemaps - DEBUG - Outlet coordinates (1/1): (12.20750,45.83583).
2022-02-15 16:12:21,132 - build - wflow - DEBUG - Adding region vector to staticgeoms.
2022-02-15 16:12:21,136 - build - model_api - INFO - setup_rivers.hydrography_fn: merit_hydro
2022-02-15 16:12:21,136 - build - model_api - INFO - setup_rivers.river_geom_fn: rivers_lin2019_v1
2022-02-15 16:12:21,136 - build - model_api - INFO - setup_rivers.river_upa: 30
2022-02-15 16:12:21,137 - build - model_api - INFO - setup_rivers.rivdph_method: powlaw
2022-02-15 16:12:21,137 - build - model_api - INFO - setup_rivers.slope_len: 2000
2022-02-15 16:12:21,137 - build - model_api - INFO - setup_rivers.min_rivlen_ratio: 0.1
2022-02-15 16:12:21,137 - build - model_api - INFO - setup_rivers.min_rivdph: 1
2022-02-15 16:12:21,137 - build - model_api - INFO - setup_rivers.min_rivwth: 30
2022-02-15 16:12:21,137 - build - model_api - INFO - setup_rivers.smooth_len: 5000
2022-02-15 16:12:21,137 - build - model_api - INFO - setup_rivers.rivman_mapping_fn: /usr/share/miniconda/envs/hydromt-wflow/lib/python3.9/site-packages/hydromt_wflow/data/wflow/N_river_mapping.csv
2022-02-15 16:12:21,137 - build - wflow - INFO - Preparing river maps.
2022-02-15 16:12:21,137 - build - data_adapter - INFO - DataCatalog: Getting merit_hydro RasterDataset raster data from /home/runner/.hydromt_data/data/v0.0.6/merit_hydro/{variable}.tif
2022-02-15 16:12:21,196 - build - data_adapter - DEBUG - RasterDataset: Clip with geom - [11.778, 45.807, 12.745, 46.690]
2022-02-15 16:12:21,210 - build - river - DEBUG - Set river mask (min uparea: 30 km2) and prepare flow dirs.
2022-02-15 16:12:21,455 - build - river - DEBUG - Derive river length.
2022-02-15 16:12:27,584 - build - river - DEBUG - Derive river slope.
2022-02-15 16:12:28,277 - build - river - DEBUG - Derive rivwth from hydrography dataset.
2022-02-15 16:12:28,347 - build - landuse - INFO - Deriving N_River using average resampling (nodata=-999.0).
2022-02-15 16:12:28,361 - build - data_adapter - INFO - DataCatalog: Getting rivers_lin2019_v1 GeoDataFrame vector data from /home/runner/.hydromt_data/data/v0.0.6/rivers_lin2019_v1.gpkg
2022-02-15 16:12:28,362 - build - data_adapter - INFO - GeoDataFrame: Read vector data and clip to geom (epsg:4326) [11.778, 45.807, 12.745, 46.690].
2022-02-15 16:12:28,589 - build - river - DEBUG - Derive [&#39;rivwth&#39;, &#39;qbankfull&#39;] from shapefile.
2022-02-15 16:12:28,683 - build - river - DEBUG - Valid for 381/655 river cells (max dist: 392 m).
2022-02-15 16:12:30,359 - build - wflow - DEBUG - Adding rivers vector to staticgeoms.
2022-02-15 16:12:31,118 - build - model_api - INFO - setup_reservoirs.reservoirs_fn: hydro_reservoirs
2022-02-15 16:12:31,118 - build - model_api - INFO - setup_reservoirs.min_area: 1.0
2022-02-15 16:12:31,118 - build - model_api - INFO - setup_reservoirs.priority_jrc: True
2022-02-15 16:12:31,118 - build - wflow - INFO - Preparing reservoir maps.
2022-02-15 16:12:31,118 - build - data_adapter - INFO - DataCatalog: Getting hydro_reservoirs GeoDataFrame vector data from /home/runner/.hydromt_data/data/v0.0.6/hydro_reservoirs.gpkg
2022-02-15 16:12:31,121 - build - data_adapter - INFO - GeoDataFrame: Read vector data and clip to geom (epsg:4326) [11.775, 45.804, 12.745, 46.690].
2022-02-15 16:12:31,145 - build - data_adapter - DEBUG - GeoDataFrame: Convert units for 5 columns.
2022-02-15 16:12:31,148 - build - wflow - WARNING - No reservoirs of sufficient size found within region! Skipping reservoir procedures!
2022-02-15 16:12:31,148 - build - model_api - INFO - setup_lakes.lakes_fn: hydro_lakes
2022-02-15 16:12:31,148 - build - model_api - INFO - setup_lakes.min_area: 10.0
2022-02-15 16:12:31,148 - build - wflow - INFO - Preparing lake maps.
2022-02-15 16:12:31,148 - build - data_adapter - INFO - DataCatalog: Getting hydro_lakes GeoDataFrame vector data from /home/runner/.hydromt_data/data/v0.0.6/hydro_lakes.gpkg
2022-02-15 16:12:31,151 - build - data_adapter - INFO - GeoDataFrame: Read vector data and clip to geom (epsg:4326) [11.775, 45.804, 12.745, 46.690].
2022-02-15 16:12:31,168 - build - data_adapter - DEBUG - GeoDataFrame: Convert units for 1 columns.
2022-02-15 16:12:31,170 - build - wflow - WARNING - No lakes of sufficient size found within region! Skipping lake procedures!
2022-02-15 16:12:31,170 - build - model_api - INFO - setup_glaciers.glaciers_fn: rgi
2022-02-15 16:12:31,170 - build - model_api - INFO - setup_glaciers.min_area: 1.0
2022-02-15 16:12:31,170 - build - wflow - INFO - Preparing glacier maps.
2022-02-15 16:12:31,170 - build - data_adapter - INFO - DataCatalog: Getting rgi GeoDataFrame vector data from /home/runner/.hydromt_data/data/v0.0.6/rgi.gpkg
2022-02-15 16:12:31,172 - build - data_adapter - INFO - GeoDataFrame: Read vector data and clip to geom (epsg:4326) [11.775, 45.804, 12.745, 46.690].
2022-02-15 16:12:31,195 - build - wflow - INFO - 1 glaciers of sufficient size found within region.
2022-02-15 16:12:31,207 - build - glaciers - DEBUG - Creating vector grid for calculating glacier fraction and storage per grid cell
2022-02-15 16:12:31,405 - build - glaciers - DEBUG - Setting glacierfrac and store values per glacier.
2022-02-15 16:12:33,951 - build - model_api - INFO - setup_lulcmaps.lulc_fn: globcover
2022-02-15 16:12:33,952 - build - model_api - INFO - setup_lulcmaps.lulc_mapping_fn: None
2022-02-15 16:12:33,952 - build - model_api - INFO - setup_lulcmaps.lulc_vars: [&#39;landuse&#39;, &#39;Kext&#39;, &#39;N&#39;, &#39;PathFrac&#39;, &#39;RootingDepth&#39;, &#39;Sl&#39;, &#39;Swood&#39;, &#39;WaterFrac&#39;]
2022-02-15 16:12:33,952 - build - wflow - INFO - Preparing LULC parameter maps.
2022-02-15 16:12:33,952 - build - data_adapter - INFO - DataCatalog: Getting globcover RasterDataset raster data from /home/runner/.hydromt_data/data/v0.0.6/globcover.tif
2022-02-15 16:12:33,962 - build - data_adapter - DEBUG - RasterDataset: Clip with geom - [11.778, 45.807, 12.745, 46.690]
2022-02-15 16:12:33,982 - build - landuse - INFO - Deriving landuse using nearest resampling (nodata=230).
2022-02-15 16:12:34,020 - build - landuse - INFO - Deriving Kext using average resampling (nodata=-999.0).
2022-02-15 16:12:34,061 - build - landuse - INFO - Deriving N using average resampling (nodata=-999.0).
2022-02-15 16:12:34,101 - build - landuse - INFO - Deriving PathFrac using average resampling (nodata=-999.0).
2022-02-15 16:12:34,140 - build - landuse - INFO - Deriving RootingDepth using average resampling (nodata=-999).
2022-02-15 16:12:34,179 - build - landuse - INFO - Deriving Sl using average resampling (nodata=-999.0).
2022-02-15 16:12:34,218 - build - landuse - INFO - Deriving Swood using average resampling (nodata=-999.0).
2022-02-15 16:12:34,256 - build - landuse - INFO - Deriving WaterFrac using average resampling (nodata=-999).
2022-02-15 16:12:34,302 - build - model_api - INFO - setup_laimaps.lai_fn: modis_lai
2022-02-15 16:12:34,302 - build - wflow - INFO - Preparing LAI maps.
2022-02-15 16:12:34,302 - build - data_adapter - INFO - DataCatalog: Getting modis_lai RasterDataset netcdf data from /home/runner/.hydromt_data/data/v0.0.6/modis_lai.nc
2022-02-15 16:12:34,335 - build - data_adapter - DEBUG - RasterDataset: Clip with geom - [11.778, 45.807, 12.745, 46.690]
2022-02-15 16:12:34,345 - build - data_adapter - DEBUG - RasterDataset: Convert units for 1 variables.
2022-02-15 16:12:34,351 - build - landuse - INFO - Deriving LAI using average resampling (nodata=None).
2022-02-15 16:12:34,412 - build - model_api - INFO - setup_soilmaps.soil_fn: soilgrids
2022-02-15 16:12:34,412 - build - model_api - INFO - setup_soilmaps.ptf_ksatver: brakensiek
2022-02-15 16:12:34,413 - build - wflow - INFO - Preparing soil parameter maps.
2022-02-15 16:12:34,413 - build - data_adapter - INFO - DataCatalog: Getting soilgrids RasterDataset raster data from /home/runner/.hydromt_data/data/v0.0.6/soilgrids/{variable}.tif
2022-02-15 16:12:34,718 - build - data_adapter - DEBUG - RasterDataset: Clip with geom - [11.778, 45.807, 12.745, 46.690]
2022-02-15 16:12:34,738 - build - data_adapter - DEBUG - RasterDataset: Convert units for 21 variables.
2022-02-15 16:12:35,090 - build - soilgrids - INFO - calculate and resample thetaS
2022-02-15 16:12:35,230 - build - soilgrids - INFO - calculate and resample thetaR
2022-02-15 16:12:35,393 - build - soilgrids - INFO - calculate and resample KsatVer
2022-02-15 16:12:35,422 - build - soilgrids - INFO - calculate and resample pore size distribution index
2022-02-15 16:12:35,490 - build - soilgrids - INFO - fit z - log(KsatVer) with numpy linalg regression (y = b*x) -&gt; M_
2022-02-15 16:12:36,036 - build - soilgrids - INFO - fit zi - Ksat with curve_fit (scipy.optimize) -&gt; M
2022-02-15 16:12:39,188 - build - soilgrids - INFO - Interpolate NAN values for thetaS
2022-02-15 16:12:39,352 - build - soilgrids - INFO - Interpolate NAN values for thetaR
2022-02-15 16:12:39,369 - build - soilgrids - INFO - Interpolate NAN values for SoilThickness
2022-02-15 16:12:39,387 - build - soilgrids - INFO - Interpolate NAN values for SoilMinThickness
2022-02-15 16:12:39,617 - build - soilgrids - INFO - Interpolate NAN values for c
2022-02-15 16:12:39,676 - build - soilgrids - INFO - Interpolate NAN values for KsatVer
2022-02-15 16:12:39,734 - build - soilgrids - INFO - Interpolate NAN values for KsatVer_0.0cm
2022-02-15 16:12:39,796 - build - soilgrids - INFO - Interpolate NAN values for KsatVer_5.0cm
2022-02-15 16:12:39,858 - build - soilgrids - INFO - Interpolate NAN values for KsatVer_15.0cm
2022-02-15 16:12:39,918 - build - soilgrids - INFO - Interpolate NAN values for KsatVer_30.0cm
2022-02-15 16:12:39,977 - build - soilgrids - INFO - Interpolate NAN values for KsatVer_60.0cm
2022-02-15 16:12:40,037 - build - soilgrids - INFO - Interpolate NAN values for KsatVer_100.0cm
2022-02-15 16:12:40,094 - build - soilgrids - INFO - Interpolate NAN values for KsatVer_200.0cm
2022-02-15 16:12:40,314 - build - soilgrids - INFO - Interpolate NAN values for M_original_
2022-02-15 16:12:40,542 - build - soilgrids - INFO - Interpolate NAN values for M_
2022-02-15 16:12:40,760 - build - soilgrids - INFO - Interpolate NAN values for f_
2022-02-15 16:12:40,985 - build - soilgrids - INFO - Interpolate NAN values for M_original
2022-02-15 16:12:41,210 - build - soilgrids - INFO - Interpolate NAN values for M
2022-02-15 16:12:41,419 - build - soilgrids - INFO - Interpolate NAN values for f
2022-02-15 16:12:41,539 - build - soilgrids - INFO - Interpolate NAN values for wflow_soil
2022-02-15 16:12:41,579 - build - model_api - INFO - setup_gauges.gauges_fn: grdc
2022-02-15 16:12:41,579 - build - model_api - INFO - setup_gauges.source_gdf: None
2022-02-15 16:12:41,579 - build - model_api - INFO - setup_gauges.snap_to_river: True
2022-02-15 16:12:41,579 - build - model_api - INFO - setup_gauges.mask: None
2022-02-15 16:12:41,579 - build - model_api - INFO - setup_gauges.derive_subcatch: False
2022-02-15 16:12:41,579 - build - model_api - INFO - setup_gauges.derive_outlet: True
2022-02-15 16:12:41,579 - build - model_api - INFO - setup_gauges.basename: None
2022-02-15 16:12:41,579 - build - model_api - INFO - setup_gauges.update_toml: True
2022-02-15 16:12:41,579 - build - model_api - INFO - setup_gauges.gauge_toml_header: None
2022-02-15 16:12:41,579 - build - model_api - INFO - setup_gauges.gauge_toml_param: None
2022-02-15 16:12:41,579 - build - wflow - INFO - Gauges locations set based on river outlets.
2022-02-15 16:12:41,586 - build - wflow - INFO - Gauges map based on catchment river outlets added.
2022-02-15 16:12:41,586 - build - data_adapter - INFO - DataCatalog: Getting grdc GeoDataFrame csv data from /home/runner/.hydromt_data/data/v0.0.6/grdc.csv
2022-02-15 16:12:41,589 - build - data_adapter - INFO - GeoDataFrame: Read csv data and clip to geom (epsg:4326) [11.775, 45.804, 12.745, 46.690].
2022-02-15 16:12:41,604 - build - wflow - INFO - 3 grdc gauge locations found within domain
2022-02-15 16:12:41,611 - build - wflow - INFO - Gauges map from grdc added.
2022-02-15 16:12:41,612 - build - model_api - INFO - setup_precip_forcing.precip_fn: era5
2022-02-15 16:12:41,612 - build - model_api - INFO - setup_precip_forcing.precip_clim_fn: None
2022-02-15 16:12:41,612 - build - model_api - INFO - setup_precip_forcing.chunksize: None
2022-02-15 16:12:41,612 - build - data_adapter - INFO - DataCatalog: Getting era5 RasterDataset netcdf data from /home/runner/.hydromt_data/data/v0.0.6/era5.nc
2022-02-15 16:12:41,625 - build - data_adapter - DEBUG - RasterDataset: Shifting time labels with 86400 sec.
2022-02-15 16:12:41,626 - build - data_adapter - DEBUG - RasterDataset: Slicing time dim (&#39;2010-01-01T00:00:00&#39;, &#39;2010-03-31T00:00:00&#39;)
2022-02-15 16:12:41,635 - build - data_adapter - DEBUG - RasterDataset: Clip with geom - [11.778, 45.807, 12.745, 46.690]
2022-02-15 16:12:41,645 - build - data_adapter - DEBUG - RasterDataset: Convert units for 1 variables.
2022-02-15 16:12:41,696 - build - model_api - INFO - setup_temp_pet_forcing.temp_pet_fn: era5
2022-02-15 16:12:41,696 - build - model_api - INFO - setup_temp_pet_forcing.pet_method: debruin
2022-02-15 16:12:41,696 - build - model_api - INFO - setup_temp_pet_forcing.press_correction: True
2022-02-15 16:12:41,696 - build - model_api - INFO - setup_temp_pet_forcing.temp_correction: True
2022-02-15 16:12:41,696 - build - model_api - INFO - setup_temp_pet_forcing.dem_forcing_fn: era5_orography
2022-02-15 16:12:41,696 - build - model_api - INFO - setup_temp_pet_forcing.skip_pet: False
2022-02-15 16:12:41,696 - build - model_api - INFO - setup_temp_pet_forcing.chunksize: None
2022-02-15 16:12:41,697 - build - data_adapter - INFO - DataCatalog: Getting era5 RasterDataset netcdf data from /home/runner/.hydromt_data/data/v0.0.6/era5.nc
2022-02-15 16:12:41,706 - build - data_adapter - DEBUG - RasterDataset: Shifting time labels with 86400 sec.
2022-02-15 16:12:41,708 - build - data_adapter - DEBUG - RasterDataset: Slicing time dim (&#39;2010-01-01T00:00:00&#39;, &#39;2010-03-31T00:00:00&#39;)
2022-02-15 16:12:41,716 - build - data_adapter - DEBUG - RasterDataset: Clip with geom - [11.778, 45.807, 12.745, 46.690]
2022-02-15 16:12:41,727 - build - data_adapter - DEBUG - RasterDataset: Convert units for 4 variables.
2022-02-15 16:12:41,757 - build - data_adapter - INFO - DataCatalog: Getting era5_orography RasterDataset netcdf data from /home/runner/.hydromt_data/data/v0.0.6/era5_orography.nc
2022-02-15 16:12:41,769 - build - data_adapter - DEBUG - RasterDataset: Clip with geom - [11.625, 45.625, 12.875, 46.875]
2022-02-15 16:12:41,780 - build - data_adapter - DEBUG - RasterDataset: Convert units for 1 variables.
2022-02-15 16:12:42,087 - build - wflow - INFO - Write model data to /home/runner/work/hydromt_wflow/hydromt_wflow/docs/examples/examples/wflow_test_full
2022-02-15 16:12:42,099 - build - model_api - INFO - Writing model config to /home/runner/work/hydromt_wflow/hydromt_wflow/docs/examples/examples/wflow_test_full/wflow_sbm.toml
2022-02-15 16:12:42,099 - build - wflow - INFO - Write staticmaps to /home/runner/work/hydromt_wflow/hydromt_wflow/docs/examples/examples/wflow_test_full/staticmaps.nc
2022-02-15 16:12:42,573 - build - wflow - INFO - Writing model staticgeom to file.
2022-02-15 16:12:42,677 - build - wflow - INFO - Write forcing file
2022-02-15 16:12:42,682 - build - wflow - INFO - Process forcing; saving to /home/runner/work/hydromt_wflow/hydromt_wflow/docs/examples/examples/wflow_test_full/inmaps-era5-2010.nc
[########################################] | 100% Completed |  0.1s

</pre></div></div>
</div>
<p>With this example we build a complete wflow model including forcing. Compared to the previous <strong>hydromt build</strong> we have added: * <code class="docutils literal notranslate"><span class="pre">-i</span> <span class="pre">wflow_build.ini</span></code> : setup configuration file including all components to build and their arguments</p>
<p>Next we check which files have been created. The model root should contain two netcdf (.nc) files, one for the staticmaps and one for the forcing data, a wflow configuration (.toml) file. These files are sufficient to run the wflow model. In addition several geometry (.geojson) files are saved in the <em>staticgeoms</em> folder. Finally, the setup process is logged in the hydromt.log file.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>

<span class="n">root</span> <span class="o">=</span> <span class="s2">&quot;wflow_test_full&quot;</span>
<span class="k">for</span> <span class="n">path</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">root</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">name</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.xml&quot;</span><span class="p">):</span>
            <span class="k">continue</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; - </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
wflow_test_full
 - inmaps-era5-2010.nc
 - hydromt.log
 - hydromt_data.yml
 - staticmaps.nc
 - wflow_sbm.toml
wflow_test_full/run_default
wflow_test_full/staticgeoms
 - region.geojson
 - basins.geojson
 - glaciers.geojson
 - rivers.geojson
 - gauges.geojson
 - gauges_grdc.geojson
wflow_test_full/instate
</pre></div></div>
</div>
</section>
<section id="Visualize-and/or-inspect-model-schematization">
<h2>Visualize and/or inspect model schematization<a class="headerlink" href="#Visualize-and/or-inspect-model-schematization" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>The <strong>wflow plot</strong> example notebook contains scripts to visualize your model</p></li>
<li><p>The <strong>wflow nc to raster files</strong> example notebook contains scripts to write the nc model files to a netcdf which can be used to inspect (and modify) the model layers in e.g. QGIS.</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../index.html" class="btn btn-neutral float-left" title="Examples" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="build_sediment.html" class="btn btn-neutral float-right" title="Build a Wflow sediment model" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Deltares.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>