
<!DOCTYPE html>


<html lang="en" data-content_root="../" data-theme="light">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Build a Wflow Sediment model &#8212; HydroMT Wflow  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css?v=2aa19091" />
    <link rel="stylesheet" type="text/css" href="../_static/theme-deltares.css?v=5ca2d357" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '_examples/build_sediment';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://raw.githubusercontent.com/Deltares/hydromt_wflow/gh-pages/switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '1.0.0';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            false;
        </script>
    <link rel="icon" href="../_static/hydromt-icon.svg"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Update a Wflow model: landuse" href="update_model_landuse.html" />
    <link rel="prev" title="Build a Wflow model from scratch" href="build_model.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="1.0.0.dev" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="light">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
    
    <img src="../_static/hydromt-icon.svg" class="logo__image only-light" alt=""/>
    <img src="../_static/hydromt-icon.svg" class="logo__image only-dark pst-js-only" alt=""/>
  
  
    <p class="title logo__title">HydroMT Wflow</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../getting_started/intro.html">
    Getting started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user_guide/intro.html">
    User guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../api.html">
    API reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../dev_guide/intro.html">
    Developments
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://deltares.github.io/hydromt/latest/index.html">
    HydroMT core
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/Deltares/hydromt_wflow" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://deltares.github.io/Wflow.jl/dev/" title="Wflow" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="../_static/wflow_logo.png" class="icon-link-image" alt="Wflow"/></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.deltares.nl/en/" title="Deltares" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="../_static/deltares-blue.svg" class="icon-link-image" alt="Deltares"/></a>
        </li>
</ul></div>
      
        <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../getting_started/intro.html">
    Getting started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user_guide/intro.html">
    User guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../api.html">
    API reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../dev_guide/intro.html">
    Developments
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://deltares.github.io/hydromt/latest/index.html">
    HydroMT core
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/Deltares/hydromt_wflow" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://deltares.github.io/Wflow.jl/dev/" title="Wflow" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="../_static/wflow_logo.png" class="icon-link-image" alt="Wflow"/></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.deltares.nl/en/" title="Deltares" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="../_static/deltares-blue.svg" class="icon-link-image" alt="Deltares"/></a>
        </li>
</ul></div>
        
          <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-3"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-3"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-3"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-3">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><p aria-level="2" class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../getting_started/installation.html">Installation Guide</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../getting_started/example_index.html">Examples</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="build_model.html">Build a Wflow model from scratch</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Build a Wflow Sediment model</a></li>
<li class="toctree-l2"><a class="reference internal" href="update_model_landuse.html">Update a Wflow model: landuse</a></li>
<li class="toctree-l2"><a class="reference internal" href="update_model_forcing.html">Update a Wflow model: forcing</a></li>
<li class="toctree-l2"><a class="reference internal" href="update_model_gauges.html">Update a Wflow model: gauging stations</a></li>
<li class="toctree-l2"><a class="reference internal" href="update_model_water_demand.html">Update a wflow model: water demand</a></li>
<li class="toctree-l2"><a class="reference internal" href="connect_to_1d_model.html">Connect Wflow to a 1D model</a></li>
<li class="toctree-l2"><a class="reference internal" href="convert_staticmaps_to_mapstack.html">Convert Wflow staticmaps netcdf to raster files</a></li>
<li class="toctree-l2"><a class="reference internal" href="prepare_ldd.html">Prepare flow directions and related data from a DEM</a></li>

<li class="toctree-l2"><a class="reference internal" href="plot_wflow_staticmaps.html">Plot Wflow static maps</a></li>
<li class="toctree-l2"><a class="reference internal" href="plot_wflow_forcing.html">Plot Wflow forcing</a></li>
<li class="toctree-l2"><a class="reference internal" href="plot_wflow_results.html">Plot Wflow outputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrade_to_wflow_v1.html">Upgrade your model to Wflow.jl version 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="clip_model.html">Clip a Wflow model</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference external" href="https://deltares.github.io/hydromt/latest/getting_started/user_stories">User's stories</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/faq.html">Frequently asked questions</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../getting_started/intro.html" class="nav-link">Getting started</a></li>
    
    
    <li class="breadcrumb-item"><a href="../getting_started/example_index.html" class="nav-link">Examples</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Build a Wflow Sediment model</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <div class="admonition tip">
<p class="admonition-title">Tip</p>
<div>
    For an interactive online version click here:
    <a href="https://mybinder.org/v2/gh/Deltares/hydromt_wflow/main?urlpath=lab/tree/examples/build_sediment.ipynb" target="_blank" rel="noopener noreferrer"><img alt="Binder badge" src="https://mybinder.org/badge_logo.svg"></a>
</div></div>
<section id="Build-a-Wflow-Sediment-model">
<h1>Build a Wflow Sediment model<a class="headerlink" href="#Build-a-Wflow-Sediment-model" title="Link to this heading">#</a></h1>
<p>This notebook demonstrates how to prepare a <strong>Wflow Sediment</strong> model using the command line interace (CLI).</p>
<p>All lines in this notebook which start with <code class="docutils literal notranslate"><span class="pre">!</span></code> are executed from the command line. Within the notebook environment the logging messages are shown after completion. You can also copy these lines and paste these in your shell to get more direct feedback.</p>
<section id="HydroMT-CLI-build-interface">
<h2>HydroMT CLI build interface<a class="headerlink" href="#HydroMT-CLI-build-interface" title="Link to this heading">#</a></h2>
<p>Lets first check if the Wflow sediment model is recognized by HydroMT</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># this should return &quot;wflow, wflow_sediment&quot;</span>
<span class="c1"># as well as hydromt generic models &quot;grid_model, lumped_model, network_model (mesh_model)&quot;</span>
<span class="o">!</span>hydromt<span class="w"> </span>--models
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Model plugins:
        - wflow_sbm (hydromt_wflow 1.0.0.dev0)
        - wflow_sediment (hydromt_wflow 1.0.0.dev0)
        - model (hydromt 1.2.0.dev0)
</pre></div></div>
</div>
<p>Using the <strong>HydroMT build</strong> API we can setup a complete model from scratch. Letâ€™s get an overview of all the available options:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>hydromt<span class="w"> </span>build<span class="w"> </span>--help
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Usage: hydromt build [OPTIONS] MODEL MODEL_ROOT

  Build models from scratch.

  Example usage: --------------

  To build a wflow model: hydromt build wflow /path/to/model_root -i
  /path/to/wflow_config.yml -d deltares_data -d /path/to/data_catalog.yml -v

  To build a sfincs model: hydromt build sfincs /path/to/model_root  -i
  /path/to/sfincs_config.yml -d /path/to/data_catalog.yml -v

Options:
  -i, --config PATH        Path to hydroMT configuration file, for the model
                           specific implementation.  [required]
  -d, --data TEXT          Path to local yaml data catalog file OR name of
                           predefined data catalog.
  --dd, --deltares-data    Flag: Shortcut to add the &#34;deltares_data&#34; catalog
  --fo, --force-overwrite  Flag: If provided overwrite existing model files
  --cache                  Flag: If provided cache tiled rasterdatasets
  -v, --verbose            Increase verbosity.
  -q, --quiet              Decrease verbosity.
  --help                   Show this message and exit.
</pre></div></div>
</div>
</section>
<section id="Model-setup-configuration">
<h2>Model setup configuration<a class="headerlink" href="#Model-setup-configuration" title="Link to this heading">#</a></h2>
<p>The HydroMT configuration file (YAML) contains the model setup configuration and determines which methods are used to prepare the different components of a Wflow Sediment model and in which order and optionally sets non-default arguments for each method. This configuration is passed to HydroMT using <code class="docutils literal notranslate"><span class="pre">-i</span> <span class="pre">&lt;path_to_config_file&gt;</span></code>. We have prepared several example files which are available in the model repository <a class="reference external" href="https://github.com/Deltares/hydromt_wflow/tree/main/examples">examples folder</a> and
from the <a class="reference external" href="https://deltares.github.io/hydromt_wflow/latest/user_guide/sediment_build.html">docs (building a model)</a>.</p>
<p>Each header (without indent) (e.g. <code class="docutils literal notranslate"><span class="pre">setup_basemaps:</span></code>) corresponds to a model method. All model methods are explained in the <a class="reference external" href="https://deltares.github.io/hydromt_wflow/latest/user_guide/sediment_model_setup.html">docs (model methods)</a>.</p>
<p>We will load the default wflow sediment build configuration yaml file for inspection:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fn_config</span> <span class="o">=</span> <span class="s2">&quot;wflow_sediment_build.yml&quot;</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">fn_config</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">txt</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
steps:
  - setup_config:                     # options parsed to wflow toml file &lt;section&gt;.&lt;option&gt;
      data:
        time.starttime: &#34;2010-02-02T00:00:00&#34;
        time.endtime: &#34;2010-02-10T00:00:00&#34;
        time.timestepsecs: 86400
        output.netcdf_grid.path: output.nc
        output.netcdf_grid.compressionlevel: 1
        output.netcdf_grid.variables.soil_erosion__mass_flow_rate: soil_loss
        output.netcdf_grid.variables.river_water_sediment~suspended__mass_concentration: suspended_solids

  - setup_basemaps:
      hydrography_fn: merit_hydro      # source hydrography data {merit_hydro, merit_hydro_1k}
      basin_index_fn: merit_hydro_index # source of basin index corresponding to hydrography_fn
      upscale_method: ihu              # upscaling method for flow direction data, by default &#39;ihu&#39;
      res: 0.00833           # build the model at a 30 arc sec (~1km) resolution
      region:
        subbasin: [12.2051, 45.8331]
        strord: 4
        bounds: [11.70, 45.35, 12.95, 46.70]

  - setup_rivers:
      hydrography_fn: merit_hydro      # source hydrography data, should correspond to hydrography_fn in setup_basemaps
      river_geom_fn: hydro_rivers_lin # river source data with river width and bankfull discharge
      river_upa: 30               # minimum upstream area threshold for the river map [km2]
      min_rivwth: 30               # minimum river width [m]
      slope_len: 2000             # length over which tp calculate river slope [m]
      smooth_len: 5000             # length over which to smooth river depth and river width [m]

  - setup_reservoirs:
      reservoirs_fn: hydro_reservoirs  # source for reservoirs shape and attributes
      min_area: 1.0           # minimum lake area to consider [km2]
      trapping_default: 1.0   # default trapping efficiency for reservoirs [0-1]

  - setup_natural_reservoirs:
      reservoirs_fn: hydro_lakes      # source for lakes based on hydroLAKES: {hydro_lakes}
      min_area: 1.0              # minimum reservoir area to consider [km2]

  - setup_riverbedsed:

  - setup_lulcmaps:
      lulc_fn: globcover_2009        # source for lulc maps: {globcover, vito, corine}
      lulc_mapping_fn: globcover_mapping_default  # default mapping for lulc classes

  - setup_canopymaps:
      canopy_fn: simard           # source for vegetation canopy height: {simard}

  - setup_soilmaps:
      soil_fn: soilgrids        # source for soilmaps: {soilgrids}
      usle_k_method: renard      # method to compute the USLE K factor: {renard, epic}
      add_aggregates: True      # if True add small and large aggregates to soil composition

  - setup_outlets:
      river_only: True

  - setup_gauges:
      gauges_fn: grdc             # If not None add gaugemap. Either a path or known gauges_fn: {grdc}
      snap_to_river: True             # If True snaps gauges from source to river
      derive_subcatch: False            # if True derive subcatch map based on gauges.

  - setup_constant_pars:             # constant parameters values
      river_water_sediment__bagnold_transport_capacity_coefficient: 0.0000175
      river_water_sediment__bagnold_transport_capacity_exponent: 1.4
      soil_erosion__answers_overland_flow_factor: 0.9
      soil_erosion__eurosem_exponent: 2.0
      sediment__particle_density: 2650
      clay__mean_diameter: 2
      silt__mean_diameter: 10
      &#34;sediment_aggregates~small__mean_diameter&#34;: 30
      sand__mean_diameter: 200
      &#34;sediment_aggregates~large__mean_diameter&#34;: 500
      gravel__mean_diameter: 2000

</pre></div></div>
</div>
</section>
<section id="Setup-Wflow-Sediment-model-from-scratch">
<h2>Setup Wflow Sediment model from scratch<a class="headerlink" href="#Setup-Wflow-Sediment-model-from-scratch" title="Link to this heading">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># NOTE: copy this line (without !) to your shell for more direct feedback</span>
<span class="c1"># NOTE: the region argument has been removed since hydromt v1.0.0 and can now only be configured from the configuration file under the setup_basemap header</span>
<span class="o">!</span>hydromt<span class="w"> </span>build<span class="w"> </span>wflow_sediment<span class="w"> </span><span class="s2">&quot;./wflow_test_sediment&quot;</span><span class="w"> </span>-i<span class="w"> </span>wflow_sediment_build.yml<span class="w"> </span>-d<span class="w"> </span>artifact_data<span class="w"> </span>--fo<span class="w"> </span>-v
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
2025-09-17 12:40:49,586 - hydromt - log - INFO - HydroMT version: 1.2.0.dev0
2025-09-17 12:40:49,586 - hydromt.cli.main - main - INFO - Building instance of wflow_sediment model at /home/runner/work/hydromt_wflow/hydromt_wflow/docs/_examples/wflow_test_sediment.
2025-09-17 12:40:49,586 - hydromt.cli.main - main - INFO - User settings:
2025-09-17 12:40:49,736 - hydromt.data_catalog.data_catalog - data_catalog - INFO - Reading data catalog artifact_data latest
2025-09-17 12:40:49,736 - hydromt.data_catalog.data_catalog - data_catalog - INFO - Parsing data catalog from /home/runner/.hydromt/artifact_data/v1.0.0/data_catalog.yml
2025-09-17 12:40:50,380 - hydromt.model.root - root - INFO - setting root to /home/runner/work/hydromt_wflow/hydromt_wflow/docs/_examples/wflow_test_sediment
2025-09-17 12:40:50,381 - hydromt.model.model - model - INFO - Initializing wflow_sediment model from hydromt_wflow (v1.0.0.dev0).
2025-09-17 12:40:50,381 - hydromt.data_catalog.data_catalog - data_catalog - INFO - Parsing data catalog from /home/runner/work/hydromt_wflow/hydromt_wflow/hydromt_wflow/data/parameters_data.yml
2025-09-17 12:40:50,394 - hydromt.hydromt_wflow.wflow_base - wflow_base - INFO - Supported Wflow.jl version v1+
2025-09-17 12:40:50,394 - hydromt.hydromt_wflow.components.config - config - INFO - Reading default config file from /home/runner/work/hydromt_wflow/hydromt_wflow/hydromt_wflow/data/wflow_sediment/wflow_sediment.toml.
2025-09-17 12:40:50,395 - hydromt.model.model - model - INFO - build: setup_config
2025-09-17 12:40:50,395 - hydromt.model.model - model - INFO - setup_config.data={&#39;time.starttime&#39;: &#39;2010-02-02T00:00:00&#39;, &#39;time.endtime&#39;: &#39;2010-02-10T00:00:00&#39;, &#39;time.timestepsecs&#39;: 86400, &#39;output.netcdf_grid.path&#39;: &#39;output.nc&#39;, &#39;output.netcdf_grid.compressionlevel&#39;: 1, &#39;output.netcdf_grid.variables.soil_erosion__mass_flow_rate&#39;: &#39;soil_loss&#39;, &#39;output.netcdf_grid.variables.river_water_sediment~suspended__mass_concentration&#39;: &#39;suspended_solids&#39;}
2025-09-17 12:40:50,395 - hydromt.model.model - model - INFO - build: setup_basemaps
2025-09-17 12:40:50,395 - hydromt.model.model - model - INFO - setup_basemaps.basin_index_fn=merit_hydro_index
2025-09-17 12:40:50,395 - hydromt.model.model - model - INFO - setup_basemaps.res=0.00833
2025-09-17 12:40:50,395 - hydromt.model.model - model - INFO - setup_basemaps.upscale_method=ihu
2025-09-17 12:40:50,395 - hydromt.model.model - model - INFO - setup_basemaps.output_names={&#39;basin__local_drain_direction&#39;: &#39;local_drain_direction&#39;, &#39;subbasin_location__count&#39;: &#39;subcatchment&#39;, &#39;land_surface__slope&#39;: &#39;land_slope&#39;}
2025-09-17 12:40:50,395 - hydromt.model.model - model - INFO - setup_basemaps.hydrography_fn=merit_hydro
2025-09-17 12:40:50,395 - hydromt.model.model - model - INFO - setup_basemaps.region={&#39;subbasin&#39;: [12.2051, 45.8331], &#39;strord&#39;: 4, &#39;bounds&#39;: [11.7, 45.35, 12.95, 46.7]}
2025-09-17 12:40:50,395 - hydromt.hydromt_wflow.wflow_base - wflow_base - INFO - Preparing base hydrography basemaps.
2025-09-17 12:40:50,396 - hydromt.data_catalog.sources.data_source - data_source - INFO - Reading merit_hydro RasterDataset data from /home/runner/.hydromt/artifact_data/latest/merit_hydro/{variable}.tif
2025-09-17 12:40:50,495 - hydromt.data_catalog.sources.data_source - data_source - INFO - Reading merit_hydro_index GeoDataFrame data from /home/runner/.hydromt/artifact_data/latest/merit_hydro_index.gpkg
2025-09-17 12:40:53,709 - hydromt.model.processes.basin_mask - basin_mask - INFO - subbasin bbox: [11.7750, 45.8042, 12.7450, 46.6900]
2025-09-17 12:40:53,773 - hydromt.hydromt_wflow.workflows.basemaps - basemaps - INFO - (Sub)basin at original resolution has 664756 cells.
2025-09-17 12:40:53,906 - hydromt.hydromt_wflow.workflows.basemaps - basemaps - INFO - Upscale flow direction data: 10x, ihu method.
2025-09-17 12:41:07,963 - hydromt.hydromt_wflow.workflows.basemaps - basemaps - INFO - Derive stream order.
2025-09-17 12:41:08,138 - hydromt.hydromt_wflow.workflows.basemaps - basemaps - INFO - Map shape: (106, 116); active cells: 6637.
2025-09-17 12:41:08,138 - hydromt.hydromt_wflow.workflows.basemaps - basemaps - INFO - Outlet coordinates (1/1): (12.20750,45.83583).
2025-09-17 12:41:08,156 - hydromt.hydromt_wflow.wflow_base - wflow_base - INFO - Adding basin shape to staticgeoms.
2025-09-17 12:41:08,169 - hydromt.hydromt_wflow.workflows.basemaps - basemaps - INFO - Derive elevation and slope.
2025-09-17 12:41:08,342 - hydromt.model.model - model - INFO - build: setup_rivers
2025-09-17 12:41:08,343 - hydromt.model.model - model - INFO - setup_rivers.river_geom_fn=hydro_rivers_lin
2025-09-17 12:41:08,343 - hydromt.model.model - model - INFO - setup_rivers.river_upa=30
2025-09-17 12:41:08,343 - hydromt.model.model - model - INFO - setup_rivers.slope_len=2000
2025-09-17 12:41:08,343 - hydromt.model.model - model - INFO - setup_rivers.min_rivlen_ratio=0.0
2025-09-17 12:41:08,343 - hydromt.model.model - model - INFO - setup_rivers.min_rivwth=30
2025-09-17 12:41:08,343 - hydromt.model.model - model - INFO - setup_rivers.smooth_len=5000
2025-09-17 12:41:08,343 - hydromt.model.model - model - INFO - setup_rivers.output_names={&#39;river_location__mask&#39;: &#39;river_mask&#39;, &#39;river__length&#39;: &#39;river_length&#39;, &#39;river__width&#39;: &#39;river_width&#39;, &#39;river__slope&#39;: &#39;river_slope&#39;}
2025-09-17 12:41:08,343 - hydromt.model.model - model - INFO - setup_rivers.hydrography_fn=merit_hydro
2025-09-17 12:41:08,343 - hydromt.hydromt_wflow.wflow_base - wflow_base - INFO - Preparing river maps.
2025-09-17 12:41:08,346 - hydromt.data_catalog.sources.data_source - data_source - INFO - Reading merit_hydro RasterDataset data from /home/runner/.hydromt/artifact_data/latest/merit_hydro/{variable}.tif
2025-09-17 12:41:08,433 - hydromt.hydromt_wflow.workflows.river - river - INFO - Set river mask (min uparea: 30 km2) and prepare flow dirs.
2025-09-17 12:41:08,586 - hydromt.hydromt_wflow.workflows.river - river - INFO - Derive river length.
2025-09-17 12:41:11,744 - hydromt.hydromt_wflow.workflows.river - river - INFO - Derive river slope.
2025-09-17 12:41:12,421 - hydromt.data_catalog.sources.data_source - data_source - INFO - Reading hydro_rivers_lin GeoDataFrame data from /home/runner/.hydromt/artifact_data/latest/rivers_lin2019_v1.gpkg
2025-09-17 12:41:12,635 - hydromt.hydromt_wflow.workflows.river - river - INFO - Derive [&#39;rivwth&#39;] from shapefile.
2025-09-17 12:41:12,681 - hydromt.hydromt_wflow.workflows.river - river - INFO - Valid for 381/655 river cells (max dist: 392 m).
2025-09-17 12:41:15,484 - hydromt.model.model - model - INFO - build: setup_reservoirs
2025-09-17 12:41:15,484 - hydromt.model.model - model - INFO - setup_reservoirs.overwrite_existing=False
2025-09-17 12:41:15,484 - hydromt.model.model - model - INFO - setup_reservoirs.duplicate_id=error
2025-09-17 12:41:15,484 - hydromt.model.model - model - INFO - setup_reservoirs.min_area=1.0
2025-09-17 12:41:15,484 - hydromt.model.model - model - INFO - setup_reservoirs.trapping_default=1.0
2025-09-17 12:41:15,484 - hydromt.model.model - model - INFO - setup_reservoirs.output_names={&#39;reservoir_area__count&#39;: &#39;reservoir_area_id&#39;, &#39;reservoir_location__count&#39;: &#39;reservoir_outlet_id&#39;, &#39;reservoir_surface__area&#39;: &#39;reservoir_area&#39;, &#39;reservoir_water_sediment~bedload__trapping_efficiency&#39;: &#39;reservoir_trapping_efficiency&#39;}
2025-09-17 12:41:15,484 - hydromt.model.model - model - INFO - setup_reservoirs.geom_name=meta_reservoirs
2025-09-17 12:41:15,484 - hydromt.model.model - model - INFO - setup_reservoirs.reservoirs_fn=hydro_reservoirs
2025-09-17 12:41:15,484 - hydromt.hydromt_wflow.wflow_sediment - wflow_sediment - INFO - Preparing reservoir maps.
2025-09-17 12:41:15,485 - hydromt.data_catalog.sources.data_source - data_source - INFO - Reading hydro_reservoirs GeoDataFrame data from /home/runner/.hydromt/artifact_data/latest/hydro_reservoirs.gpkg
2025-09-17 12:41:15,501 - hydromt.hydromt_wflow.workflows.reservoirs - reservoirs - INFO - 0 reservoir(s) of sufficient size found within region.
2025-09-17 12:41:15,501 - hydromt.model.model - model - INFO - build: setup_natural_reservoirs
2025-09-17 12:41:15,501 - hydromt.model.model - model - INFO - setup_natural_reservoirs.overwrite_existing=False
2025-09-17 12:41:15,502 - hydromt.model.model - model - INFO - setup_natural_reservoirs.duplicate_id=error
2025-09-17 12:41:15,502 - hydromt.model.model - model - INFO - setup_natural_reservoirs.min_area=1.0
2025-09-17 12:41:15,502 - hydromt.model.model - model - INFO - setup_natural_reservoirs.output_names={&#39;reservoir_area__count&#39;: &#39;reservoir_area_id&#39;, &#39;reservoir_location__count&#39;: &#39;reservoir_outlet_id&#39;, &#39;reservoir_surface__area&#39;: &#39;reservoir_area&#39;, &#39;reservoir_water_sediment~bedload__trapping_efficiency&#39;: &#39;reservoir_trapping_efficiency&#39;}
2025-09-17 12:41:15,502 - hydromt.model.model - model - INFO - setup_natural_reservoirs.geom_name=meta_natural_reservoirs
2025-09-17 12:41:15,502 - hydromt.model.model - model - INFO - setup_natural_reservoirs.reservoirs_fn=hydro_lakes
2025-09-17 12:41:15,502 - hydromt.hydromt_wflow.wflow_sediment - wflow_sediment - INFO - Preparing reservoir maps.
2025-09-17 12:41:15,502 - hydromt.data_catalog.sources.data_source - data_source - INFO - Reading hydro_lakes GeoDataFrame data from /home/runner/.hydromt/artifact_data/latest/hydro_lakes.gpkg
2025-09-17 12:41:15,511 - hydromt.hydromt_wflow.workflows.reservoirs - reservoirs - INFO - 1 reservoir(s) of sufficient size found within region.
2025-09-17 12:41:15,660 - hydromt.model.model - model - INFO - build: setup_riverbedsed
2025-09-17 12:41:15,660 - hydromt.model.model - model - INFO - setup_riverbedsed.bedsed_mapping_fn=None
2025-09-17 12:41:15,660 - hydromt.model.model - model - INFO - setup_riverbedsed.strord_name=meta_streamorder
2025-09-17 12:41:15,660 - hydromt.model.model - model - INFO - setup_riverbedsed.output_names={&#39;river_bottom-and-bank_sediment__median_diameter&#39;: &#39;river_bed_sediment_d50&#39;, &#39;river_bottom-and-bank_clay__mass_fraction&#39;: &#39;river_bed_clay_fraction&#39;, &#39;river_bottom-and-bank_silt__mass_fraction&#39;: &#39;river_bed_silt_fraction&#39;, &#39;river_bottom-and-bank_sand__mass_fraction&#39;: &#39;river_bed_sand_fraction&#39;, &#39;river_bottom-and-bank_gravel__mass_fraction&#39;: &#39;river_bed_gravel_fraction&#39;, &#39;river_water_sediment__kodatie_transport_capacity_a-coefficient&#39;: &#39;river_kodatie_a&#39;, &#39;river_water_sediment__kodatie_transport_capacity_b-coefficient&#39;: &#39;river_kodatie_b&#39;, &#39;river_water_sediment__kodatie_transport_capacity_c-coefficient&#39;: &#39;river_kodatie_c&#39;, &#39;river_water_sediment__kodatie_transport_capacity_d-coefficient&#39;: &#39;river_kodatie_d&#39;}
2025-09-17 12:41:15,660 - hydromt.hydromt_wflow.wflow_sediment - wflow_sediment - INFO - Preparing riverbedsed parameter maps.
2025-09-17 12:41:15,660 - hydromt.data_catalog.sources.data_source - data_source - INFO - Reading riverbedsed_mapping_default DataFrame data from /home/runner/work/hydromt_wflow/hydromt_wflow/hydromt_wflow/data/wflow_sediment/riverbedsed_mapping.csv
2025-09-17 12:41:15,667 - hydromt.hydromt_wflow.workflows.landuse - landuse - INFO - Deriving river_bed_sediment_d50 using average resampling (nodata=-999.0).
2025-09-17 12:41:15,672 - hydromt.hydromt_wflow.workflows.landuse - landuse - INFO - Deriving river_bed_clay_fraction using average resampling (nodata=-999.0).
2025-09-17 12:41:15,677 - hydromt.hydromt_wflow.workflows.landuse - landuse - INFO - Deriving river_bed_silt_fraction using average resampling (nodata=-999.0).
2025-09-17 12:41:15,681 - hydromt.hydromt_wflow.workflows.landuse - landuse - INFO - Deriving river_bed_sand_fraction using average resampling (nodata=-999.0).
2025-09-17 12:41:15,686 - hydromt.hydromt_wflow.workflows.landuse - landuse - INFO - Deriving river_bed_gravel_fraction using average resampling (nodata=-999.0).
2025-09-17 12:41:15,691 - hydromt.hydromt_wflow.workflows.landuse - landuse - INFO - Deriving river_kodatie_a using average resampling (nodata=nan).
2025-09-17 12:41:15,696 - hydromt.hydromt_wflow.workflows.landuse - landuse - INFO - Deriving river_kodatie_b using average resampling (nodata=nan).
2025-09-17 12:41:15,700 - hydromt.hydromt_wflow.workflows.landuse - landuse - INFO - Deriving river_kodatie_c using average resampling (nodata=nan).
2025-09-17 12:41:15,705 - hydromt.hydromt_wflow.workflows.landuse - landuse - INFO - Deriving river_kodatie_d using average resampling (nodata=nan).
2025-09-17 12:41:15,729 - hydromt.model.model - model - INFO - build: setup_lulcmaps
2025-09-17 12:41:15,729 - hydromt.model.model - model - INFO - setup_lulcmaps.lulc_mapping_fn=globcover_mapping_default
2025-09-17 12:41:15,729 - hydromt.model.model - model - INFO - setup_lulcmaps.planted_forest_fn=None
2025-09-17 12:41:15,729 - hydromt.model.model - model - INFO - setup_lulcmaps.lulc_vars={&#39;landuse&#39;: None, &#39;soil_compacted_fraction&#39;: &#39;soil~compacted__area_fraction&#39;, &#39;erosion_usle_c&#39;: &#39;soil_erosion__usle_c_factor&#39;, &#39;land_water_fraction&#39;: &#39;land~water-covered__area_fraction&#39;}
2025-09-17 12:41:15,729 - hydromt.model.model - model - INFO - setup_lulcmaps.planted_forest_c=0.0881
2025-09-17 12:41:15,729 - hydromt.model.model - model - INFO - setup_lulcmaps.orchard_name=Orchard
2025-09-17 12:41:15,729 - hydromt.model.model - model - INFO - setup_lulcmaps.orchard_c=0.2188
2025-09-17 12:41:15,729 - hydromt.model.model - model - INFO - setup_lulcmaps.output_names_suffix=None
2025-09-17 12:41:15,729 - hydromt.model.model - model - INFO - setup_lulcmaps.lulc_fn=globcover_2009
2025-09-17 12:41:15,729 - hydromt.hydromt_wflow.wflow_base - wflow_base - INFO - Preparing LULC parameter maps.
2025-09-17 12:41:15,732 - hydromt.data_catalog.sources.data_source - data_source - INFO - Reading globcover_2009 RasterDataset data from /home/runner/.hydromt/artifact_data/latest/globcover.tif
2025-09-17 12:41:15,742 - hydromt.data_catalog.sources.data_source - data_source - INFO - Reading globcover_mapping_default DataFrame data from /home/runner/work/hydromt_wflow/hydromt_wflow/hydromt_wflow/data/lulc/globcover_mapping.csv
2025-09-17 12:41:15,751 - hydromt.hydromt_wflow.workflows.landuse - landuse - INFO - Deriving landuse using nearest resampling (nodata=230).
2025-09-17 12:41:15,773 - hydromt.hydromt_wflow.workflows.landuse - landuse - INFO - Deriving soil_compacted_fraction using average resampling (nodata=-999.0).
2025-09-17 12:41:15,793 - hydromt.hydromt_wflow.workflows.landuse - landuse - INFO - Deriving erosion_usle_c using average resampling (nodata=-999.0).
2025-09-17 12:41:15,814 - hydromt.hydromt_wflow.workflows.landuse - landuse - INFO - Deriving land_water_fraction using average resampling (nodata=-999.0).
2025-09-17 12:41:15,842 - hydromt.model.model - model - INFO - build: setup_canopymaps
2025-09-17 12:41:15,842 - hydromt.model.model - model - INFO - setup_canopymaps.output_name=vegetation_height
2025-09-17 12:41:15,842 - hydromt.model.model - model - INFO - setup_canopymaps.canopy_fn=simard
2025-09-17 12:41:15,842 - hydromt.hydromt_wflow.wflow_sediment - wflow_sediment - INFO - Preparing canopy height map.
2025-09-17 12:41:15,844 - hydromt.data_catalog.sources.data_source - data_source - INFO - Reading simard RasterDataset data from /home/runner/.hydromt/artifact_data/latest/simard.tif
2025-09-17 12:41:15,886 - hydromt.model.model - model - INFO - build: setup_soilmaps
2025-09-17 12:41:15,886 - hydromt.model.model - model - INFO - setup_soilmaps.soil_fn=soilgrids
2025-09-17 12:41:15,886 - hydromt.model.model - model - INFO - setup_soilmaps.usle_k_method=renard
2025-09-17 12:41:15,886 - hydromt.model.model - model - INFO - setup_soilmaps.add_aggregates=True
2025-09-17 12:41:15,886 - hydromt.model.model - model - INFO - setup_soilmaps.output_names={&#39;soil_clay__mass_fraction&#39;: &#39;soil_clay_fraction&#39;, &#39;soil_silt__mass_fraction&#39;: &#39;soil_silt_fraction&#39;, &#39;soil_sand__mass_fraction&#39;: &#39;soil_sand_fraction&#39;, &#39;soil_aggregates~small__mass_fraction&#39;: &#39;soil_sagg_fraction&#39;, &#39;soil_aggregates~large__mass_fraction&#39;: &#39;soil_lagg_fraction&#39;, &#39;soil_erosion__rainfall_soil_detachability_factor&#39;: &#39;erosion_soil_detachability&#39;, &#39;soil_erosion__usle_k_factor&#39;: &#39;erosion_usle_k&#39;, &#39;land_surface_sediment__median_diameter&#39;: &#39;soil_sediment_d50&#39;, &#39;land_surface_water_sediment__govers_transport_capacity_coefficient&#39;: &#39;land_govers_c&#39;, &#39;land_surface_water_sediment__govers_transport_capacity_exponent&#39;: &#39;land_govers_n&#39;}
2025-09-17 12:41:15,886 - hydromt.hydromt_wflow.wflow_sediment - wflow_sediment - INFO - Preparing soil parameter maps.
2025-09-17 12:41:15,889 - hydromt.data_catalog.sources.data_source - data_source - INFO - Reading soilgrids RasterDataset data from /home/runner/.hydromt/artifact_data/latest/soilgrids/{variable}.tif
2025-09-17 12:41:17,075 - hydromt.hydromt_wflow.workflows.soilgrids - soilgrids - INFO - Interpolate NAN values for erosion_soil_detachability
2025-09-17 12:41:17,109 - hydromt.hydromt_wflow.workflows.soilgrids - soilgrids - INFO - Interpolate NAN values for usle_k
2025-09-17 12:41:17,144 - hydromt.hydromt_wflow.workflows.soilgrids - soilgrids - INFO - Interpolate NAN values for soil_sediment_d50
2025-09-17 12:41:17,181 - hydromt.hydromt_wflow.workflows.soilgrids - soilgrids - INFO - Interpolate NAN values for land_govers_c
2025-09-17 12:41:17,220 - hydromt.hydromt_wflow.workflows.soilgrids - soilgrids - INFO - Interpolate NAN values for land_govers_n
2025-09-17 12:41:17,237 - hydromt.hydromt_wflow.workflows.soilgrids - soilgrids - INFO - Interpolate NAN values for soil_clay_fraction
2025-09-17 12:41:17,254 - hydromt.hydromt_wflow.workflows.soilgrids - soilgrids - INFO - Interpolate NAN values for soil_silt_fraction
2025-09-17 12:41:17,273 - hydromt.hydromt_wflow.workflows.soilgrids - soilgrids - INFO - Interpolate NAN values for soil_sagg_fraction
2025-09-17 12:41:17,296 - hydromt.hydromt_wflow.workflows.soilgrids - soilgrids - INFO - Interpolate NAN values for soil_sand_fraction
2025-09-17 12:41:17,339 - hydromt.gis.raster - raster - WARNING - No numerical nodata value found, skipping set_nodata
2025-09-17 12:41:17,341 - hydromt.hydromt_wflow.workflows.soilgrids - soilgrids - INFO - Interpolate NAN values for soil_lagg_fraction
2025-09-17 12:41:17,362 - hydromt.model.model - model - INFO - build: setup_outlets
2025-09-17 12:41:17,363 - hydromt.model.model - model - INFO - setup_outlets.river_only=True
2025-09-17 12:41:17,363 - hydromt.model.model - model - INFO - setup_outlets.toml_output=csv
2025-09-17 12:41:17,363 - hydromt.model.model - model - INFO - setup_outlets.gauge_toml_header=[&#39;suspended_solids&#39;]
2025-09-17 12:41:17,363 - hydromt.model.model - model - INFO - setup_outlets.gauge_toml_param=[&#39;river_water_sediment~suspended__mass_concentration&#39;]
2025-09-17 12:41:17,363 - hydromt.hydromt_wflow.wflow_base - wflow_base - INFO - Gauges locations set based on river outlets.
2025-09-17 12:41:17,376 - hydromt.hydromt_wflow.wflow_base - wflow_base - INFO - Gauges map based on catchment river outlets added.
2025-09-17 12:41:17,376 - hydromt.hydromt_wflow.wflow_base - wflow_base - INFO - Adding [&#39;river_water_sediment~suspended__mass_concentration&#39;] to csv section of toml.
2025-09-17 12:41:17,376 - hydromt.model.model - model - INFO - build: setup_gauges
2025-09-17 12:41:17,376 - hydromt.model.model - model - INFO - setup_gauges.index_col=None
2025-09-17 12:41:17,376 - hydromt.model.model - model - INFO - setup_gauges.snap_to_river=True
2025-09-17 12:41:17,376 - hydromt.model.model - model - INFO - setup_gauges.mask=None
2025-09-17 12:41:17,376 - hydromt.model.model - model - INFO - setup_gauges.snap_uparea=False
2025-09-17 12:41:17,376 - hydromt.model.model - model - INFO - setup_gauges.max_dist=10000.0
2025-09-17 12:41:17,376 - hydromt.model.model - model - INFO - setup_gauges.wdw=3
2025-09-17 12:41:17,376 - hydromt.model.model - model - INFO - setup_gauges.rel_error=0.05
2025-09-17 12:41:17,377 - hydromt.model.model - model - INFO - setup_gauges.abs_error=50.0
2025-09-17 12:41:17,377 - hydromt.model.model - model - INFO - setup_gauges.fillna=False
2025-09-17 12:41:17,377 - hydromt.model.model - model - INFO - setup_gauges.derive_subcatch=False
2025-09-17 12:41:17,377 - hydromt.model.model - model - INFO - setup_gauges.basename=None
2025-09-17 12:41:17,377 - hydromt.model.model - model - INFO - setup_gauges.toml_output=csv
2025-09-17 12:41:17,377 - hydromt.model.model - model - INFO - setup_gauges.gauge_toml_header=[&#39;river_q&#39;, &#39;suspended_solids&#39;]
2025-09-17 12:41:17,377 - hydromt.model.model - model - INFO - setup_gauges.gauge_toml_param=[&#39;river_water__volume_flow_rate&#39;, &#39;river_water_sediment~suspended__mass_concentration&#39;]
2025-09-17 12:41:17,377 - hydromt.model.model - model - INFO - setup_gauges.gauges_fn=grdc
2025-09-17 12:41:17,377 - hydromt.data_catalog.sources.data_source - data_source - INFO - Reading grdc GeoDataFrame data from /home/runner/.hydromt/artifact_data/latest/grdc.csv
2025-09-17 12:41:17,382 - hydromt.hydromt_wflow.wflow_base - wflow_base - INFO - 3 grdc gauge locations found within domain
2025-09-17 12:41:17,758 - hydromt.hydromt_wflow.wflow_base - wflow_base - INFO - Adding [&#39;river_water__volume_flow_rate&#39;, &#39;river_water_sediment~suspended__mass_concentration&#39;] to csv section of toml.
2025-09-17 12:41:17,758 - hydromt.model.model - model - INFO - build: setup_constant_pars
2025-09-17 12:41:17,758 - hydromt.model.model - model - INFO - setup_constant_pars.river_water_sediment__bagnold_transport_capacity_coefficient=1.75e-05
2025-09-17 12:41:17,758 - hydromt.model.model - model - INFO - setup_constant_pars.river_water_sediment__bagnold_transport_capacity_exponent=1.4
2025-09-17 12:41:17,758 - hydromt.model.model - model - INFO - setup_constant_pars.soil_erosion__answers_overland_flow_factor=0.9
2025-09-17 12:41:17,758 - hydromt.model.model - model - INFO - setup_constant_pars.soil_erosion__eurosem_exponent=2.0
2025-09-17 12:41:17,758 - hydromt.model.model - model - INFO - setup_constant_pars.sediment__particle_density=2650
2025-09-17 12:41:17,758 - hydromt.model.model - model - INFO - setup_constant_pars.clay__mean_diameter=2
2025-09-17 12:41:17,758 - hydromt.model.model - model - INFO - setup_constant_pars.silt__mean_diameter=10
2025-09-17 12:41:17,758 - hydromt.model.model - model - INFO - setup_constant_pars.sediment_aggregates~small__mean_diameter=30
2025-09-17 12:41:17,758 - hydromt.model.model - model - INFO - setup_constant_pars.sand__mean_diameter=200
2025-09-17 12:41:17,759 - hydromt.model.model - model - INFO - setup_constant_pars.sediment_aggregates~large__mean_diameter=500
2025-09-17 12:41:17,759 - hydromt.model.model - model - INFO - setup_constant_pars.gravel__mean_diameter=2000
2025-09-17 12:41:17,759 - hydromt.hydromt_wflow.wflow_base - wflow_base - INFO - Write model data to /home/runner/work/hydromt_wflow/hydromt_wflow/docs/_examples/wflow_test_sediment
2025-09-17 12:41:17,768 - hydromt.model.components.grid - grid - INFO - wflow_sediment.staticmaps: Writing grid data to /home/runner/work/hydromt_wflow/hydromt_wflow/docs/_examples/wflow_test_sediment/staticmaps.nc.
2025-09-17 12:41:17,850 - hydromt.model.components.spatial - spatial - INFO - wflow_sediment.staticmaps: Writing region to /home/runner/work/hydromt_wflow/hydromt_wflow/docs/_examples/wflow_test_sediment/staticgeoms/region.geojson.
2025-09-17 12:41:17,868 - hydromt.model.components.geoms - geoms - INFO - wflow_sediment.geoms: Writing geoms to /home/runner/work/hydromt_wflow/hydromt_wflow/docs/_examples/wflow_test_sediment/staticgeoms/basins_highres.geojson.
2025-09-17 12:41:17,886 - hydromt.model.components.geoms - geoms - INFO - wflow_sediment.geoms: Writing geoms to /home/runner/work/hydromt_wflow/hydromt_wflow/docs/_examples/wflow_test_sediment/staticgeoms/basins.geojson.
2025-09-17 12:41:17,891 - hydromt.model.components.geoms - geoms - INFO - wflow_sediment.geoms: Writing geoms to /home/runner/work/hydromt_wflow/hydromt_wflow/docs/_examples/wflow_test_sediment/staticgeoms/rivers.geojson.
2025-09-17 12:41:17,896 - hydromt.model.components.geoms - geoms - INFO - wflow_sediment.geoms: Writing geoms to /home/runner/work/hydromt_wflow/hydromt_wflow/docs/_examples/wflow_test_sediment/staticgeoms/meta_natural_reservoirs.geojson.
2025-09-17 12:41:17,899 - hydromt.model.components.geoms - geoms - INFO - wflow_sediment.geoms: Writing geoms to /home/runner/work/hydromt_wflow/hydromt_wflow/docs/_examples/wflow_test_sediment/staticgeoms/reservoirs.geojson.
2025-09-17 12:41:17,900 - hydromt.model.components.geoms - geoms - INFO - wflow_sediment.geoms: Writing geoms to /home/runner/work/hydromt_wflow/hydromt_wflow/docs/_examples/wflow_test_sediment/staticgeoms/outlets.geojson.
2025-09-17 12:41:17,902 - hydromt.model.components.geoms - geoms - INFO - wflow_sediment.geoms: Writing geoms to /home/runner/work/hydromt_wflow/hydromt_wflow/docs/_examples/wflow_test_sediment/staticgeoms/gauges_grdc.geojson.
2025-09-17 12:41:17,905 - hydromt.hydromt_wflow.components.forcing - forcing - WARNING - Write forcing skipped: dataset is empty (no variables or data).
2025-09-17 12:41:17,905 - hydromt.model.components.tables - tables - INFO - wflow_sediment.tables: No tables found, skip writing.
2025-09-17 12:41:17,905 - hydromt.model.components.grid - grid - INFO - wflow_sediment.states: No grid data found, skip writing.
2025-09-17 12:41:17,905 - hydromt.hydromt_wflow.components.config - config - INFO - Writing model config to /home/runner/work/hydromt_wflow/hydromt_wflow/docs/_examples/wflow_test_sediment/wflow_sediment.toml.
</pre></div></div>
</div>
<p>The example above means the following: run <strong>hydromt build</strong> with:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">wflow_sediment</span></code> : i.e. build a wflow sediment model</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">./wflow_test_sediment</span></code> : output model folder</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-i</span> <span class="pre">wflow_sediment_build.yml</span></code> : model setup configuration file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-d</span> <span class="pre">artifact_data</span></code> : use pre-defined artifact_data catalog.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-v</span></code> : give some extra verbosity (1 * v) to display feedback on screen. Now INFO messages are provided.</p></li>
</ul>
<p>Next we check which files have been created. The model root should contain two netcdf (.nc) files, one for the staticmaps and one for the forcing data, a wflow run configuration (.toml) file. These files are sufficient to run the wflow sediment model. In addition several geometry (.geojson) files are saved in the <em>staticgeoms</em> folder. Finally, the setup process is logged in the hydromt.log file.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="n">root</span> <span class="o">=</span> <span class="s2">&quot;wflow_test_sediment&quot;</span>
<span class="k">for</span> <span class="n">path</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">root</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">name</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.xml&quot;</span><span class="p">):</span>
            <span class="k">continue</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; - </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
wflow_test_sediment
 - hydromt.log
 - staticmaps.nc
 - hydromt_data.yml
 - wflow_sediment.toml
wflow_test_sediment/staticgeoms
 - basins.geojson
 - reservoirs.geojson
 - region.geojson
 - meta_natural_reservoirs.geojson
 - rivers.geojson
 - gauges_grdc.geojson
 - basins_highres.geojson
 - outlets.geojson
</pre></div></div>
</div>
</section>
<section id="Visualize-and/or-inspect-model-schematization">
<h2>Visualize and/or inspect model schematization<a class="headerlink" href="#Visualize-and/or-inspect-model-schematization" title="Link to this heading">#</a></h2>
<p>You can (copy and) adapt the following example notebooks in order to visualize your Wflow Sediment model:</p>
<ul class="simple">
<li><p>The <strong>wflow plot</strong> example notebook contains scripts to visualize your model</p></li>
<li><p>The <strong>wflow nc to raster files</strong> example notebook contains scripts to write the nc model files to a netcdf which can be used to inspect (and modify) the model layers in e.g. QGIS.</p></li>
</ul>
</section>
<section id="Add-Wflow-Sediment-layers-to-an-existing-Wflow-model">
<h2>Add Wflow Sediment layers to an existing Wflow model<a class="headerlink" href="#Add-Wflow-Sediment-layers-to-an-existing-Wflow-model" title="Link to this heading">#</a></h2>
<p>If you already have a hydrological <strong>Wflow</strong> model and you want to extend it in order to include <strong>sediment</strong> as well, then you do not need to build the wflow_sediment from scratch. You can instead <strong>update</strong> the wflow model with the additional components needed by wflow_sediment.</p>
<p>These components are available in the template <strong>wflow_extend_sediment.yml</strong>:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fn_config</span> <span class="o">=</span> <span class="s2">&quot;wflow_extend_sediment.yml&quot;</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">fn_config</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">txt</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
steps:
  - read_config: # read a template config file for wflow sediment to be able to extend from a sbm model
      config_filename: data/wflow_sediment.toml

  - setup_config: # options parsed to wflow toml file &lt;section&gt;.&lt;option&gt;
      data:
        time.starttime: 2010-01-01T00:00:00
        time.endtime: 2010-03-31T00:00:00
        time.timestepsecs: 86400
        output.netcdf_grid.path: output.nc
        output.netcdf_grid.compressionlevel: 1
        output.netcdf_grid.variables.soil_erosion__mass_flow_rate: soil_loss
        output.netcdf_grid.variables.river_water_sediment~suspended__mass_concentration: suspended_solids

  - setup_riverbedsed:
      bedsed_mapping_fn:       # path to a mapping csv file from streamorder to river bed particles characteristics if any, else default is used

  # If you do have reservoirs, you can re-run setup_natural_reservoirs and setup_reservoirs to add it
  - setup_reservoirs:
      reservoirs_fn: hydro_reservoirs  # source for reservoirs shape and attributes
      min_area: 1.0           # minimum lake area to consider [km2]
      trapping_default: 1.0   # default trapping efficiency for reservoirs [0-1]

  - setup_natural_reservoirs:
      reservoirs_fn: hydro_lakes   # source for uncontrolled reservoirs (e.g. lakes) based on hydroLAKES: {hydro_lakes}
      min_area: 10.0          # minimum reservoir area to consider [km2]

  - setup_lulcmaps:
      lulc_fn: globcover_2009        # source for lulc maps: {globcover, vito, corine}
      lulc_mapping_fn: globcover_mapping_default  # default mapping for lulc classes

  - setup_canopymaps:
      canopy_fn: simard           # source for vegetation canopy height: {simard}

  - setup_soilmaps:
      soil_fn: soilgrids        # source for soilmaps: {soilgrids}
      usle_k_method: renard           # method to compute the USLE K factor: {renard, epic}
      add_aggregates: True      # if True add small and large aggregates to soil composition

  - setup_outlets:
      river_only: True

  - setup_gauges:
      gauges_fn: grdc             # If not None add gaugemap. Either a path or known gauges_fn: {grdc}
      snap_to_river: True             # If True snaps gauges from source to river
      derive_subcatch: False            # if True derive subcatch map based on gauges.

  - setup_constant_pars:               # constant parameters values
      river_water_sediment__bagnold_transport_capacity_coefficient: 0.0000175
      river_water_sediment__bagnold_transport_capacity_exponent: 1.4
      soil_erosion__answers_overland_flow_factor: 0.9
      soil_erosion__eurosem_exponent: 2.0
      sediment__particle_density: 2650
      clay__mean_diameter: 2
      silt__mean_diameter: 10
      &#34;sediment_aggregates~small__mean_diameter&#34;: 30
      sand__mean_diameter: 200
      &#34;sediment_aggregates~large__mean_diameter&#34;: 500
      gravel__mean_diameter: 2000
      &#34;reservoir_water_sediment~bedload__trapping_efficiency&#34;: 1.0

</pre></div></div>
</div>
<p>Note that because we are starting from a sbm model, we start here with a <code class="docutils literal notranslate"><span class="pre">read_config</span></code> step in order to get a default <strong>wflow_sediment.toml</strong> that contains the minimum config options of the sediment model including variables names of the already present maps (eg slope, river maskâ€¦). You may have to modify this template if the staticmaps name do not correspond to the names in your own wflow sbm model.</p>
<p>Letâ€™s update the hydrological <strong>Wflow</strong> model available from our example for the Piave subbasin:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># NOTE: copy this line (without !) to your shell for more direct feedback</span>
<span class="o">!</span>hydromt<span class="w"> </span>update<span class="w"> </span>wflow_sediment<span class="w"> </span><span class="s2">&quot;wflow_piave_subbasin&quot;</span><span class="w"> </span>-o<span class="w"> </span><span class="s2">&quot;./wflow_test_extend_sediment&quot;</span><span class="w"> </span>-i<span class="w"> </span>wflow_extend_sediment.yml<span class="w"> </span>-d<span class="w"> </span>artifact_data<span class="w"> </span>--fo<span class="w"> </span>-v
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
2025-09-17 12:41:22,040 - hydromt - log - INFO - HydroMT version: 1.2.0.dev0
2025-09-17 12:41:22,040 - hydromt.cli.main - main - INFO - Updating wflow_sediment model at /home/runner/work/hydromt_wflow/hydromt_wflow/docs/_examples/wflow_piave_subbasin (r).
2025-09-17 12:41:22,040 - hydromt.cli.main - main - INFO - Output dir: /home/runner/work/hydromt_wflow/hydromt_wflow/docs/_examples/wflow_test_extend_sediment
2025-09-17 12:41:22,040 - hydromt.cli.main - main - INFO - User settings:
2025-09-17 12:41:22,194 - hydromt.data_catalog.data_catalog - data_catalog - INFO - Reading data catalog artifact_data latest
2025-09-17 12:41:22,194 - hydromt.data_catalog.data_catalog - data_catalog - INFO - Parsing data catalog from /home/runner/.hydromt/artifact_data/v1.0.0/data_catalog.yml
2025-09-17 12:41:22,839 - hydromt.model.root - root - INFO - setting root to /home/runner/work/hydromt_wflow/hydromt_wflow/docs/_examples/wflow_piave_subbasin
2025-09-17 12:41:22,840 - hydromt.model.model - model - INFO - Initializing wflow_sediment model from hydromt_wflow (v1.0.0.dev0).
2025-09-17 12:41:22,840 - hydromt.data_catalog.data_catalog - data_catalog - INFO - Parsing data catalog from /home/runner/work/hydromt_wflow/hydromt_wflow/hydromt_wflow/data/parameters_data.yml
2025-09-17 12:41:22,853 - hydromt.hydromt_wflow.wflow_base - wflow_base - INFO - Supported Wflow.jl version v1+
2025-09-17 12:41:22,853 - hydromt.hydromt_wflow.components.config - config - WARNING - No config was found at /home/runner/work/hydromt_wflow/hydromt_wflow/docs/_examples/wflow_piave_subbasin/wflow_sediment.toml. It wil be initialized as empty dict
2025-09-17 12:41:22,853 - hydromt.cli.main - main - ERROR - Validation of step 1 (read_config) failed because of the following error: got an unexpected keyword argument &#39;config_filename&#39;
Traceback (most recent call last):
  File &#34;/home/runner/work/hydromt_wflow/hydromt_wflow/.pixi/envs/docs/lib/python3.13/site-packages/hydromt/_utils/steps_validator.py&#34;, line 29, in _validate_steps
    _ = sig.bind(**options)
  File &#34;/home/runner/work/hydromt_wflow/hydromt_wflow/.pixi/envs/docs/lib/python3.13/inspect.py&#34;, line 3295, in bind
    return self._bind(args, kwargs)
           ~~~~~~~~~~^^^^^^^^^^^^^^
  File &#34;/home/runner/work/hydromt_wflow/hydromt_wflow/.pixi/envs/docs/lib/python3.13/inspect.py&#34;, line 3284, in _bind
    raise TypeError(
        &#39;got an unexpected keyword argument {arg!r}&#39;.format(
            arg=next(iter(kwargs))))
TypeError: got an unexpected keyword argument &#39;config_filename&#39;

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File &#34;/home/runner/work/hydromt_wflow/hydromt_wflow/.pixi/envs/docs/lib/python3.13/site-packages/hydromt/cli/main.py&#34;, line 368, in update
    mod.update(model_out=model_out, steps=opt[&#34;steps&#34;], forceful_overwrite=fo)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &#34;/home/runner/work/hydromt_wflow/hydromt_wflow/.pixi/envs/docs/lib/python3.13/site-packages/hydromt/model/model.py&#34;, line 329, in update
    _validate_steps(self, steps)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File &#34;/home/runner/work/hydromt_wflow/hydromt_wflow/.pixi/envs/docs/lib/python3.13/site-packages/hydromt/_utils/steps_validator.py&#34;, line 31, in _validate_steps
    raise TypeError(
        f&#34;Validation of step {i + 1} ({step}) failed because of the following error: {e}&#34;
    )
TypeError: Validation of step 1 (read_config) failed because of the following error: got an unexpected keyword argument &#39;config_filename&#39;
Traceback (most recent call last):
  File <span class="ansi-magenta-fg">&#34;/home/runner/work/hydromt_wflow/hydromt_wflow/.pixi/envs/docs/lib/python3.13/site-packages/hydromt/_utils/steps_validator.py&#34;</span>, line <span class="ansi-magenta-fg">29</span>, in <span class="ansi-magenta-fg">_validate_steps</span>
    _ = sig.bind(**options)
  File <span class="ansi-magenta-fg">&#34;/home/runner/work/hydromt_wflow/hydromt_wflow/.pixi/envs/docs/lib/python3.13/inspect.py&#34;</span>, line <span class="ansi-magenta-fg">3295</span>, in <span class="ansi-magenta-fg">bind</span>
    return <span class="ansi-red-fg">self._bind</span><span class="ansi-red-intense-fg ansi-bold">(args, kwargs)</span>
           <span class="ansi-red-fg">~~~~~~~~~~</span><span class="ansi-red-intense-fg ansi-bold">^^^^^^^^^^^^^^</span>
  File <span class="ansi-magenta-fg">&#34;/home/runner/work/hydromt_wflow/hydromt_wflow/.pixi/envs/docs/lib/python3.13/inspect.py&#34;</span>, line <span class="ansi-magenta-fg">3284</span>, in <span class="ansi-magenta-fg">_bind</span>
    raise TypeError(
        &#39;got an unexpected keyword argument {arg!r}&#39;.format(
            arg=next(iter(kwargs))))
<span class="ansi-magenta-intense-fg ansi-bold">TypeError</span>: <span class="ansi-magenta-fg">got an unexpected keyword argument &#39;config_filename&#39;</span>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File <span class="ansi-magenta-fg">&#34;/home/runner/work/hydromt_wflow/hydromt_wflow/.pixi/envs/docs/bin/hydromt&#34;</span>, line <span class="ansi-magenta-fg">10</span>, in <span class="ansi-magenta-fg">&lt;module&gt;</span>
    sys.exit(<span class="ansi-red-fg">main</span><span class="ansi-red-intense-fg ansi-bold">()</span>)
             <span class="ansi-red-fg">~~~~</span><span class="ansi-red-intense-fg ansi-bold">^^</span>
  File <span class="ansi-magenta-fg">&#34;/home/runner/work/hydromt_wflow/hydromt_wflow/.pixi/envs/docs/lib/python3.13/site-packages/click/core.py&#34;</span>, line <span class="ansi-magenta-fg">1442</span>, in <span class="ansi-magenta-fg">__call__</span>
    return <span class="ansi-red-fg">self.main</span><span class="ansi-red-intense-fg ansi-bold">(*args, **kwargs)</span>
           <span class="ansi-red-fg">~~~~~~~~~</span><span class="ansi-red-intense-fg ansi-bold">^^^^^^^^^^^^^^^^^</span>
  File <span class="ansi-magenta-fg">&#34;/home/runner/work/hydromt_wflow/hydromt_wflow/.pixi/envs/docs/lib/python3.13/site-packages/click/core.py&#34;</span>, line <span class="ansi-magenta-fg">1363</span>, in <span class="ansi-magenta-fg">main</span>
    rv = self.invoke(ctx)
  File <span class="ansi-magenta-fg">&#34;/home/runner/work/hydromt_wflow/hydromt_wflow/.pixi/envs/docs/lib/python3.13/site-packages/click/core.py&#34;</span>, line <span class="ansi-magenta-fg">1830</span>, in <span class="ansi-magenta-fg">invoke</span>
    return _process_result(<span class="ansi-red-fg">sub_ctx.command.invoke</span><span class="ansi-red-intense-fg ansi-bold">(sub_ctx)</span>)
                           <span class="ansi-red-fg">~~~~~~~~~~~~~~~~~~~~~~</span><span class="ansi-red-intense-fg ansi-bold">^^^^^^^^^</span>
  File <span class="ansi-magenta-fg">&#34;/home/runner/work/hydromt_wflow/hydromt_wflow/.pixi/envs/docs/lib/python3.13/site-packages/click/core.py&#34;</span>, line <span class="ansi-magenta-fg">1226</span>, in <span class="ansi-magenta-fg">invoke</span>
    return <span class="ansi-red-fg">ctx.invoke</span><span class="ansi-red-intense-fg ansi-bold">(self.callback, **ctx.params)</span>
           <span class="ansi-red-fg">~~~~~~~~~~</span><span class="ansi-red-intense-fg ansi-bold">^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span>
  File <span class="ansi-magenta-fg">&#34;/home/runner/work/hydromt_wflow/hydromt_wflow/.pixi/envs/docs/lib/python3.13/site-packages/click/core.py&#34;</span>, line <span class="ansi-magenta-fg">794</span>, in <span class="ansi-magenta-fg">invoke</span>
    return callback(*args, **kwargs)
  File <span class="ansi-magenta-fg">&#34;/home/runner/work/hydromt_wflow/hydromt_wflow/.pixi/envs/docs/lib/python3.13/site-packages/click/decorators.py&#34;</span>, line <span class="ansi-magenta-fg">34</span>, in <span class="ansi-magenta-fg">new_func</span>
    return f(get_current_context(), *args, **kwargs)
  File <span class="ansi-magenta-fg">&#34;/home/runner/work/hydromt_wflow/hydromt_wflow/.pixi/envs/docs/lib/python3.13/site-packages/hydromt/cli/main.py&#34;</span>, line <span class="ansi-magenta-fg">368</span>, in <span class="ansi-magenta-fg">update</span>
    <span class="ansi-red-fg">mod.update</span><span class="ansi-red-intense-fg ansi-bold">(model_out=model_out, steps=opt[&#34;steps&#34;], forceful_overwrite=fo)</span>
    <span class="ansi-red-fg">~~~~~~~~~~</span><span class="ansi-red-intense-fg ansi-bold">^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span>
  File <span class="ansi-magenta-fg">&#34;/home/runner/work/hydromt_wflow/hydromt_wflow/.pixi/envs/docs/lib/python3.13/site-packages/hydromt/model/model.py&#34;</span>, line <span class="ansi-magenta-fg">329</span>, in <span class="ansi-magenta-fg">update</span>
    <span class="ansi-red-fg">_validate_steps</span><span class="ansi-red-intense-fg ansi-bold">(self, steps)</span>
    <span class="ansi-red-fg">~~~~~~~~~~~~~~~</span><span class="ansi-red-intense-fg ansi-bold">^^^^^^^^^^^^^</span>
  File <span class="ansi-magenta-fg">&#34;/home/runner/work/hydromt_wflow/hydromt_wflow/.pixi/envs/docs/lib/python3.13/site-packages/hydromt/_utils/steps_validator.py&#34;</span>, line <span class="ansi-magenta-fg">31</span>, in <span class="ansi-magenta-fg">_validate_steps</span>
    raise TypeError(
        f&#34;Validation of step {i + 1} ({step}) failed because of the following error: {e}&#34;
    )
<span class="ansi-magenta-intense-fg ansi-bold">TypeError</span>: <span class="ansi-magenta-fg">Validation of step 1 (read_config) failed because of the following error: got an unexpected keyword argument &#39;config_filename&#39;</span>
</pre></div></div>
</div>
<p>The example above means the following: run <strong>hydromt update</strong> with:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">wflow_sediment</span></code> : i.e. update a wflow_sediment model (in our case a wflow model but with wflow_sediment components)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">wflow_piave_subbasin</span></code> : hydrological wflow model folder</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-o</span> <span class="pre">&quot;./wflow_test_extend_sediment&quot;</span></code>: output combined wflow hydrology+sediment models</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-i</span> <span class="pre">wflow_extend_sediment.yml</span></code> : setup configuration file containing wflow sediment specific components</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-d</span> <span class="pre">artifact_data</span></code> : use the pre-defined artifact_data catalog</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-v</span></code> : give some extra verbosity (1 * v) to display feedback on screen. Now INFO messages are provided.</p></li>
</ul>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="build_model.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Build a Wflow model from scratch</p>
      </div>
    </a>
    <a class="right-next"
       href="update_model_landuse.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Update a Wflow model: landuse</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#HydroMT-CLI-build-interface">HydroMT CLI build interface</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Model-setup-configuration">Model setup configuration</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Setup-Wflow-Sediment-model-from-scratch">Setup Wflow Sediment model from scratch</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Visualize-and/or-inspect-model-schematization">Visualize and/or inspect model schematization</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Add-Wflow-Sediment-layers-to-an-existing-Wflow-model">Add Wflow Sediment layers to an existing Wflow model</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  
  <div class="tocsection editthispage">
    <a href="https://github.com/Deltares/hydromt_wflow/edit/main/docs/_examples/build_sediment.ipynb">
      <i class="fa-solid fa-pencil"></i>
      
      
        
          Edit on GitHub
        
      
    </a>
  </div>
</div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/_examples/build_sediment.ipynb.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      Â© Copyright Deltares.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>